Running ghOSt experiments...
Output Directory: /tmp/ghost_data/2023-11-12 23:50:34
{"throughputs": [10000, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 110000, 120000, 130000, 140000, 141000, 142000, 143000, 144000, 145000, 146000, 147000, 148000, 149000, 150000], "output_prefix": "/tmp/ghost_data/2023-11-12 23:50:34", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.025, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 200, "worker_cpus": [], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "ghost", "ghost_qos": 2}, "antagonist": null, "ghost": {"firstcpu": 11, "globalcpu": 11, "ncpus": 7, "preemption_time_slice": "35us"}}
Running experiment for throughput = 10000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           127827             9740                   0            0            11           13           17           227
Repeatable Handle Time       127827             9740                   0            0            2            2            3            23
Worker Queue Time            127827             9740                   0            15           71           79           240          8751
Worker Handle Time           127827             9740                   11           11           26           32           58           1174
Total                        127827             9740                   11           28           87           99           277          8778
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3314               252                    0            0            12           13           16           29
Repeatable Handle Time       3314               252                    0            0            2            2            3            14
Worker Queue Time            3314               252                    0            15           74           87           196          1410
Worker Handle Time           3314               252                    5001         5002         5417         6121         7200         10601
Total                        3314               252                    5002         5021         5462         6151         7222         10667
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           131141             9993                   0            0            11           13           17           227
Repeatable Handle Time       131141             9993                   0            0            2            2            3            23
Worker Queue Time            131141             9993                   0            15           71           79           240          8751
Worker Handle Time           131141             9993                   11           11           5002         5010         5102         10601
Total                        131141             9993                   11           29           5025         5047         5142         10667
Running experiment for throughput = 20000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           254094             19527                  0            0            10           13           57           1207
Repeatable Handle Time       254094             19527                  0            0            2            2            3            20
Worker Queue Time            254094             19527                  0            12           79           155          631          4091
Worker Handle Time           254094             19527                  10           11           32           42           99           6551
Total                        254094             19527                  11           26           109          214          738          6555
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6448               495                    0            0            12           14           79           305
Repeatable Handle Time       6448               495                    0            0            2            2            3            14
Worker Queue Time            6448               495                    0            12           79           145          852          2852
Worker Handle Time           6448               495                    5001         5463         9837         10787        13424        15680
Total                        6448               495                    5002         5483         9880         10829        13425        15692
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           260542             20023                  0            0            10           13           58           1207
Repeatable Handle Time       260542             20023                  0            0            2            2            3            20
Worker Queue Time            260542             20023                  0            12           79           155          639          4091
Worker Handle Time           260542             20023                  10           11           5645         6213         8051         15680
Total                        260542             20023                  11           26           5664         6230         8072         15692
Running experiment for throughput = 30000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           385239             29255                  0            0            12           257          3624         7613
Repeatable Handle Time       385239             29255                  0            0            2            2            3            46
Worker Queue Time            385239             29255                  0            13           285          674          5289         71696
Worker Handle Time           385239             29255                  10           12           57           86           323          51293
Total                        385239             29255                  11           27           460          1297         7556         71709
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10057              763                    0            0            14           251          4605         7073
Repeatable Handle Time       10057              763                    0            0            2            2            3            5840
Worker Queue Time            10057              763                    0            13           297          782          4795         23726
Worker Handle Time           10057              763                    5001         5921         25254        31848        58890        78780
Total                        10057              763                    5002         5945         25921        31926        58912        78797
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           395296             30018                  0            0            12           255          3632         7613
Repeatable Handle Time       395296             30018                  0            0            2            2            3            5840
Worker Queue Time            395296             30018                  0            13           285          676          5250         71696
Worker Handle Time           395296             30018                  10           12           6454         8151         12902        78780
Total                        395296             30018                  11           27           6833         8586         17833        78797
Running experiment for throughput = 40000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           442742             33494                  259294       1095119      1847816      1858397      1867026      1870569
Repeatable Handle Time       442742             33494                  0            0            2            2            3            825
Worker Queue Time            442742             33494                  0            0            203263       210152       639848       1654321
Worker Handle Time           442742             33494                  11           12           190          576          3572         340815
Total                        442742             33494                  259306       1098998      1856611      1861902      2235576      2965661
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11536              872                    259273       1094737      1843824      1858092      1866204      1869210
Repeatable Handle Time       11536              872                    0            0            2            2            3            16
Worker Queue Time            11536              872                    0            0            207140       211283       803442       1654310
Worker Handle Time           11536              872                    5024         10465        219996       446213       1093122      3148910
Total                        11536              872                    267613       1115370      1880872      2226327      2992655      4469013
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           454278             34367                  259273       1095109      1847434      1858394      1867000      1870569
Repeatable Handle Time       454278             34367                  0            0            2            2            3            825
Worker Queue Time            454278             34367                  0            0            203701       210178       640189       1654321
Worker Handle Time           454278             34367                  11           12           11599        15983        43590        3148910
Total                        454278             34367                  259306       1099517      1856794      1864118      2240089      4469013
Running experiment for throughput = 50000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           460544             35345                  871795       2132066      3538960      3552810      3565443      3566985
Repeatable Handle Time       460544             35345                  0            0            2            2            3            2303
Worker Queue Time            460544             35345                  0            0            68531        209266       798609       2374555
Worker Handle Time           460544             35345                  10           12           244          701          4157         197325
Total                        460544             35345                  871807       2134140      3541665      3558194      3626215      3964995
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11891              912                    872180       2136342      3541444      3556656      3565291      3566856
Repeatable Handle Time       11891              912                    0            0            2            2            3            55
Worker Queue Time            11891              912                    0            0            92026        207955       794560       2372573
Worker Handle Time           11891              912                    5001         8794         217383       423844       1813010      2584265
Total                        11891              912                    881864       2150186      3565377      3584455      4272156      4830258
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           472435             36257                  871795       2132154      3538982      3552832      3565441      3566985
Repeatable Handle Time       472435             36257                  0            0            2            2            3            2303
Worker Queue Time            472435             36257                  0            0            68837        209252       798435       2374555
Worker Handle Time           472435             36257                  10           12           9967         15927        46550        2584265
Total                        472435             36257                  871807       2134563      3542247      3558364      3640916      4830258
Running experiment for throughput = 60000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           410420             31476                  1233378      3636620      5983008      6015968      6030725      6034120
Repeatable Handle Time       410420             31476                  0            0            2            2            3            279
Worker Queue Time            410420             31476                  0            0            40           207706       423529       4989950
Worker Handle Time           410420             31476                  11           12           174          514          3291         2241820
Total                        410420             31476                  1233403      3641025      5983200      6016404      6031248      7965240
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10608              813                    1233384      3636695      5982861      6010100      6026981      6033529
Repeatable Handle Time       10608              813                    0            0            2            2            3            18
Worker Queue Time            10608              813                    0            0            74           208631       466726       4988894
Worker Handle Time           10608              813                    5001         10229        159082       423602       2257015      6397819
Total                        10608              813                    1241856      3660772      6006478      6034874      7522314      10430192
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           421028             32289                  1233378      3636625      5983008      6015923      6030692      6034120
Repeatable Handle Time       421028             32289                  0            0            2            2            3            279
Worker Queue Time            421028             32289                  0            0            40           207714       423545       4989950
Worker Handle Time           421028             32289                  11           12           11142        15333        36893        6397819
Total                        421028             32289                  1233403      3642139      5983412      6016671      6031816      10430192
Running experiment for throughput = 70000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '70000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           490130             37542                  1376334      3628139      5827856      5853235      5877588      5879311
Repeatable Handle Time       490130             37542                  0            0            2            2            3            854
Worker Queue Time            490130             37542                  0            0            205627       209086       215339       3269851
Worker Handle Time           490130             37542                  10           12           162          507          2962         210144
Total                        490130             37542                  1376355      3630691      5828456      5856505      5878020      7272939
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           12433              952                    1377152      3637625      5829402      5853738      5873445      5878955
Repeatable Handle Time       12433              952                    0            0            2            2            3            91
Worker Queue Time            12433              952                    0            0            205322       209023       245094       3269791
Worker Handle Time           12433              952                    5001         8223         215217       406425       848463       2229753
Total                        12433              952                    1384663      3656152      5852824      5877343      6415046      8863972
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           502563             38494                  1376334      3628162      5827866      5853245      5877545      5879311
Repeatable Handle Time       502563             38494                  0            0            2            2            3            854
Worker Queue Time            502563             38494                  0            0            205621       209084       215374       3269851
Worker Handle Time           502563             38494                  10           12           8858         12140        39271        2229753
Total                        502563             38494                  1376355      3631142      5828804      5856622      5878053      8863972
Running experiment for throughput = 80000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '80000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           385760             29557                  2397619      5279007      8047507      8067564      8100655      8105154
Repeatable Handle Time       385760             29557                  0            0            2            2            3            468
Worker Queue Time            385760             29557                  0            0            206481       209504       846125       2462571
Worker Handle Time           385760             29557                  11           12           146          492          3279         1750326
Total                        385760             29557                  2397631      5283107      8049997      8076971      8104896      9053724
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9787               749                    2397702      5262432      8045736      8070998      8100607      8104940
Repeatable Handle Time       9787               749                    0            0            2            2            3            13
Worker Queue Time            9787               749                    0            0            207524       210203       1841058      2455974
Worker Handle Time           9787               749                    5001         9845         217224       586709       2463772      3389340
Total                        9787               749                    2407605      5292372      8069783      8101214      9051010      10302620
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           395547             30307                  2397619      5278819      8047505      8067587      8100655      8105154
Repeatable Handle Time       395547             30307                  0            0            2            2            3            468
Worker Queue Time            395547             30307                  0            0            206527       209528       846198       2462571
Worker Handle Time           395547             30307                  11           12           10627        14253        38001        3389340
Total                        395547             30307                  2397631      5283247      8050226      8077058      8104952      10302620
Running experiment for throughput = 90000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '90000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           446894             34158                  2367340      5208528      7922475      7954053      7975990      7980622
Repeatable Handle Time       446894             34158                  0            0            2            2            3            1282
Worker Queue Time            446894             34158                  0            0            205183       208656       214670       2263589
Worker Handle Time           446894             34158                  11           12           160          475          3283         1816681
Total                        446894             34158                  2367353      5216512      7922554      7954142      7976222      8073817
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11365              868                    2367389      5200533      7924260      7953286      7975184      7979478
Repeatable Handle Time       11365              868                    0            0            2            2            3            153
Worker Queue Time            11365              868                    0            0            205950       208803       215271       2262930
Worker Handle Time           11365              868                    5001         8179         219865       698845       1951492      2688542
Total                        11365              868                    2375397      5227746      7948092      7972671      8072312      8491638
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           458259             35026                  2367340      5207855      7922486      7954052      7975971      7980622
Repeatable Handle Time       458259             35026                  0            0            2            2            3            1282
Worker Queue Time            458259             35026                  0            0            205221       208662       214709       2263589
Worker Handle Time           458259             35026                  11           12           8872         12097        39363        2688542
Total                        458259             35026                  2367353      5216831      7922921      7954202      7976391      8491638
Running experiment for throughput = 100000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '100000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           331416             25351                  3499436      6593659      9613406      9638994      9669638      9673161
Repeatable Handle Time       331416             25351                  0            0            2            2            3            140
Worker Queue Time            331416             25351                  0            0            208978       211062       430775       1488362
Worker Handle Time           331416             25351                  11           12           174          596          3876         612219
Total                        331416             25351                  3499447      6598624      9618164      9640749      9670628      9733525
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8566               655                    3499423      6629949      9613351      9640587      9667899      9670866
Repeatable Handle Time       8566               655                    0            0            2            2            3            21
Worker Queue Time            8566               655                    0            0            209378       211457       426089       1274440
Worker Handle Time           8566               655                    6553         10264        359607       621935       1277558      2109990
Total                        8566               655                    3510709      6654663      9641269      9666263      9770489      10287415
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           339982             26006                  3499423      6597642      9613407      9639000      9669638      9673161
Repeatable Handle Time       339982             26006                  0            0            2            2            3            140
Worker Queue Time            339982             26006                  0            0            208994       211079       430775       1488362
Worker Handle Time           339982             26006                  11           12           11280        15711        43693        2109990
Total                        339982             26006                  3499447      6600635      9618595      9642037      9670681      10287415
Running experiment for throughput = 110000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '110000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           423217             32183                  3167064      6196830      9143411      9174817      9198785      9208194
Repeatable Handle Time       423217             32183                  0            0            2            2            2            1056
Worker Queue Time            423217             32183                  0            0            204578       209131       621734       2927388
Worker Handle Time           423217             32183                  10           12           174          587          3946         1024016
Total                        423217             32183                  3167079      6198909      9143432      9174849      9198818      9209518
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10605              806                    3167064      6193225      9143462      9174811      9201275      9207948
Repeatable Handle Time       10605              806                    0            0            2            2            3            7
Worker Queue Time            10605              806                    0            0            206081       209092       627206       2927223
Worker Handle Time           10605              806                    5001         8184         215824       459859       1488124      4205710
Total                        10605              806                    3174442      6220767      9162344      9190738      9271354      10001636
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           433822             32989                  3167064      6196823      9143411      9174815      9198811      9208194
Repeatable Handle Time       433822             32989                  0            0            2            2            2            1056
Worker Queue Time            433822             32989                  0            0            204627       209129       621734       2927388
Worker Handle Time           433822             32989                  10           12           8880         12245        33001        4205710
Total                        433822             32989                  3167079      6198945      9143455      9176338      9201230      10001636
Running experiment for throughput = 120000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '120000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           297988             22631                  4644996      7634790      10585981     10605673     10622918     10625606
Repeatable Handle Time       297988             22631                  0            0            2            2            3            859
Worker Queue Time            297988             22631                  0            0            20           42           210315       3231787
Worker Handle Time           297988             22631                  11           12           152          504          2588         80438
Total                        297988             22631                  4645041      7634834      10586013     10605699     10622945     10625630
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7755               588                    4645253      7646113      10572236     10599766     10622438     10625511
Repeatable Handle Time       7755               588                    0            0            2            2            3            4
Worker Queue Time            7755               588                    0            0            21           50           210770       421569
Worker Handle Time           7755               588                    5001         10181        151694       259389       7847382      8281901
Total                        7755               588                    4654613      7676080      10602373     10627833     13044431     13175653
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           305743             23220                  4644996      7634822      10585965     10605667     10622917     10625606
Repeatable Handle Time       305743             23220                  0            0            2            2            3            859
Worker Queue Time            305743             23220                  0            0            20           42           210324       3231787
Worker Handle Time           305743             23220                  11           12           11215        16726        46020        8281901
Total                        305743             23220                  4645041      7634933      10586425     10605727     10623085     13175653
Running experiment for throughput = 130000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '130000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           369628             28395                  4155644      7156964      10048571     10075898     10096299     10098944
Repeatable Handle Time       369628             28395                  0            0            2            2            3            9354
Worker Queue Time            369628             28395                  0            0            207568       209643       618603       1059572
Worker Handle Time           369628             28395                  10           12           157          510          3347         214882
Total                        369628             28395                  4155662      7158347      10050074     10078478     10097791     10142495
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9430               724                    4155738      7141175      10040906     10066203     10094763     10098629
Repeatable Handle Time       9430               724                    0            0            2            2            3            135
Worker Queue Time            9430               724                    0            0            207150       209764       433308       1025723
Worker Handle Time           9430               724                    5001         8221         216651       427701       1058422      1661385
Total                        9430               724                    4164076      7163427      10058579     10087960     10190993     10265747
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           379058             29120                  4155644      7156944      10048452     10075895     10096259     10098944
Repeatable Handle Time       379058             29120                  0            0            2            2            3            9354
Worker Queue Time            379058             29120                  0            0            207563       209646       618546       1059572
Worker Handle Time           379058             29120                  10           12           8920         12449        39771        1661385
Total                        379058             29120                  4155662      7158430      10050087     10078511     10098044     10265747
Running experiment for throughput = 140000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '140000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           267748             20385                  5608145      8400333      11122733     11148337     11174285     11177065
Repeatable Handle Time       267748             20385                  0            0            2            2            3            856
Worker Queue Time            267748             20385                  0            0            205903       210396       427099       1289961
Worker Handle Time           267748             20385                  11           12           155          461          3093         421157
Total                        267748             20385                  5608158      8402806      11122791     11148367     11174297     11177077
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6873               523                    5608170      8402677      11121798     11150476     11172963     11177055
Repeatable Handle Time       6873               523                    0            0            2            2            3            5
Worker Queue Time            6873               523                    0            0            208119       210586       423249       639223
Worker Handle Time           6873               523                    6921         10166        221139       641759       3048312      3795379
Total                        6873               523                    5620119      8432350      11146959     11174191     11985139     12348529
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           274621             20909                  5608145      8400404      11122733     11148350     11174285     11177065
Repeatable Handle Time       274621             20909                  0            0            2            2            3            856
Worker Queue Time            274621             20909                  0            0            205993       210410       427078       1289961
Worker Handle Time           274621             20909                  11           12           11114        17084        58040        3795379
Total                        274621             20909                  5608158      8402944      11122853     11150461     11174602     12348529
Running experiment for throughput = 141000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '141000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           350645             26927                  4584985      7503023      10411096     10440464     10458288     10462571
Repeatable Handle Time       350645             26927                  0            0            2            2            3            860
Worker Queue Time            350645             26927                  0            0            46           206900       210963       2166578
Worker Handle Time           350645             26927                  11           12           139          415          2446         207887
Total                        350645             26927                  4584996      7509997      10411177     10440486     10458351     10821274
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9007               691                    4585100      7528499      10406864     10433619     10458376     10461742
Repeatable Handle Time       9007               691                    0            0            2            2            2            48
Worker Queue Time            9007               691                    0            0            32           206501       211133       821757
Worker Handle Time           9007               691                    6119         8294         183369       385854       1039535      2805078
Total                        9007               691                    4593332      7549796      10422871     10452405     10473963     11566560
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           359652             27619                  4584985      7503399      10411063     10440453     10458288     10462571
Repeatable Handle Time       359652             27619                  0            0            2            2            3            860
Worker Queue Time            359652             27619                  0            0            45           206889       210963       2166578
Worker Handle Time           359652             27619                  11           12           8991         12387        39339        2805078
Total                        359652             27619                  4584996      7510070      10411307     10440513     10458766     11566560
Running experiment for throughput = 142000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '142000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           234663             18042                  6132178      8667992      11256962     11283890     11298923     11304427
Repeatable Handle Time       234663             18042                  0            0            2            2            3            856
Worker Queue Time            234663             18042                  0            0            19           35           409914       3995888
Worker Handle Time           234663             18042                  11           12           127          408          2553         208794
Total                        234663             18042                  6132190      8668039      11259998     11283926     11298953     11351334
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6112               469                    6132301      8706972      11251378     11279597     11298871     11303363
Repeatable Handle Time       6112               469                    0            0            2            2            2            5
Worker Queue Time            6112               469                    0            0            20           30           211745       638900
Worker Handle Time           6112               469                    7359         10256        137036       236972       950346       4645359
Total                        6112               469                    6141783      8729354      11277996     11301867     11502538     11996621
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           240775             18512                  6132178      8671282      11256949     11283889     11298923     11304427
Repeatable Handle Time       240775             18512                  0            0            2            2            3            856
Worker Queue Time            240775             18512                  0            0            19           34           409692       3995888
Worker Handle Time           240775             18512                  11           12           11116        15722        41978        4645359
Total                        240775             18512                  6132190      8671380      11260124     11283980     11299102     11996621
Running experiment for throughput = 143000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '143000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           353041             27132                  4505047      7498463      10420761     10453996     10474952     10481729
Repeatable Handle Time       353041             27132                  0            0            2            2            3            909
Worker Queue Time            353041             27132                  0            0            24           400          415694       2854766
Worker Handle Time           353041             27132                  10           12           156          451          2817         408998
Total                        353041             27132                  4505068      7504599      10421062     10455901     10478261     10921658
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9061               696                    4505174      7490956      10420933     10451375     10475264     10480170
Repeatable Handle Time       9061               696                    0            0            2            2            3            24
Worker Queue Time            9061               696                    0            0            23           121          414221       2853955
Worker Handle Time           9061               696                    5001         8212         114682       343565       2440121      4106159
Total                        9061               696                    4512586      7507400      10443521     10473963     10921596     11845449
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           362102             27829                  4505047      7498393      10420761     10453963     10474952     10481729
Repeatable Handle Time       362102             27829                  0            0            2            2            3            909
Worker Queue Time            362102             27829                  0            0            24           382          415675       2854766
Worker Handle Time           362102             27829                  10           12           8884         12163        36294        4106159
Total                        362102             27829                  4505068      7504606      10421104     10456953     10478426     11845449
Running experiment for throughput = 144000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '144000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           243956             18753                  6139380      8693049      11197503     11238646     11263913     11266799
Repeatable Handle Time       243956             18753                  0            0            2            2            2            886
Worker Queue Time            243956             18753                  0            0            19           23           331          31543
Worker Handle Time           243956             18753                  11           12           141          434          2493         259038
Total                        243956             18753                  6139412      8693081      11197519     11238669     11263935     11266812
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6137               471                    6139952      8706277      11216606     11243297     11263984     11266812
Repeatable Handle Time       6137               471                    0            0            2            2            3            4
Worker Queue Time            6137               471                    0            0            20           27           404          15383
Worker Handle Time           6137               471                    5001         10220        108843       211792       682398       2733309
Total                        6137               471                    6149027      8726193      11235337     11261630     11279088     11968733
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           250093             19225                  6139380      8693164      11197585     11238862     11263915     11266812
Repeatable Handle Time       250093             19225                  0            0            2            2            2            886
Worker Queue Time            250093             19225                  0            0            19           23           336          31543
Worker Handle Time           250093             19225                  11           12           11031        16121        44992        2733309
Total                        250093             19225                  6139412      8693383      11197834     11240158     11264071     11968733
Running experiment for throughput = 145000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '145000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           342918             26153                  4806401      7747977      10622707     10649103     10665376     10674946
Repeatable Handle Time       342918             26153                  0            0            2            2            2            876
Worker Queue Time            342918             26153                  0            0            19           25           562          63601
Worker Handle Time           342918             26153                  10           12           179          572          2826         322656
Total                        342918             26153                  4806432      7748010      10622765     10649147     10665416     10777775
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8893               678                    4806536      7741202      10617203     10645852     10666862     10673134
Repeatable Handle Time       8893               678                    0            0            2            2            3            11
Worker Queue Time            8893               678                    0            0            18           23           149          15408
Worker Handle Time           8893               678                    5001         8068         118231       199174       812823       3958872
Total                        8893               678                    4814248      7756459      10633251     10662886     10691686     11056132
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           351811             26831                  4806401      7747926      10622675     10649046     10665393     10674946
Repeatable Handle Time       351811             26831                  0            0            2            2            2            876
Worker Queue Time            351811             26831                  0            0            19           25           555          63601
Worker Handle Time           351811             26831                  10           12           8751         12997        41081        3958872
Total                        351811             26831                  4806432      7748251      10622888     10649489     10665869     11056132
Running experiment for throughput = 146000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '146000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           246073             18711                  6103947      8713753      11362543     11387597     11410154     11418722
Repeatable Handle Time       246073             18711                  0            0            2            2            3            49
Worker Queue Time            246073             18711                  0            0            207883       212019       830762       1242094
Worker Handle Time           246073             18711                  11           12           184          557          3139         337228
Total                        246073             18711                  6103973      8725386      11364575     11389360     11416860     11488090
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6353               483                    6104230      8731536      11361543     11388951     11416865     11418722
Repeatable Handle Time       6353               483                    0            0            2            2            2            3
Worker Queue Time            6353               483                    0            0            208590       211754       832600       1241097
Worker Handle Time           6353               483                    7237         10175        233132       432950       1243871      1666767
Total                        6353               483                    6114301      8761193      11390079     11425058     11540613     11641675
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           252426             19194                  6103947      8715476      11362535     11387597     11410250     11418722
Repeatable Handle Time       252426             19194                  0            0            2            2            3            49
Worker Queue Time            252426             19194                  0            0            207889       212006       830795       1242094
Worker Handle Time           252426             19194                  11           12           11183        15665        40220        1666767
Total                        252426             19194                  6103973      8726625      11366520     11389919     11416907     11641675
Running experiment for throughput = 147000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '147000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           336648             25683                  4893933      7833409      10701275     10730004     10748710     10754607
Repeatable Handle Time       336648             25683                  0            0            2            2            2            881
Worker Queue Time            336648             25683                  0            0            195094       209175       216568       743989
Worker Handle Time           336648             25683                  10           12           160          505          3839         210409
Total                        336648             25683                  4893947      7840243      10701366     10730043     10748731     10771310
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8736               666                    4894050      7823373      10695456     10724829     10748519     10753334
Repeatable Handle Time       8736               666                    0            0            2            2            3            14
Worker Queue Time            8736               666                    0            0            205326       209020       411515       638224
Worker Handle Time           8736               666                    5001         8157         212931       424972       1159084      2540356
Total                        8736               666                    4902982      7842216      10711404     10742431     10995612     11504024
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           345384             26350                  4893933      7833286      10701169     10729993     10748710     10754607
Repeatable Handle Time       345384             26350                  0            0            2            2            2            881
Worker Queue Time            345384             26350                  0            0            196259       209176       216683       743989
Worker Handle Time           345384             26350                  10           12           8975         12402        36623        2540356
Total                        345384             26350                  4893947      7840304      10701722     10730256     10748757     11504024
Running experiment for throughput = 148000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '148000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           237619             17976                  6393097      8978576      11509030     11539025     11568854     11572845
Repeatable Handle Time       237619             17976                  0            0            2            2            2            872
Worker Queue Time            237619             17976                  0            0            209764       212233       633605       1499264
Worker Handle Time           237619             17976                  11           12           178          566          4792         424612
Total                        237619             17976                  6393109      8978980      11509046     11539090     11568894     11572857
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6082               460                    6393745      8959389      11519578     11547506     11566821     11572028
Repeatable Handle Time       6082               460                    0            0            2            2            2            14
Worker Queue Time            6082               460                    0            0            209767       212110       633076       1499293
Worker Handle Time           6082               460                    6479         10192        430622       645464       1295391      2575518
Total                        6082               460                    6402429      8993677      11545621     11574174     11760506     12269479
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           243701             18436                  6393097      8978571      11509035     11539139     11568854     11572845
Repeatable Handle Time       243701             18436                  0            0            2            2            2            872
Worker Queue Time            243701             18436                  0            0            209765       212226       633605       1499293
Worker Handle Time           243701             18436                  11           12           11275        15828        44534        2575518
Total                        243701             18436                  6393109      8979005      11509130     11543735     11569310     12269479
Running experiment for throughput = 149000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '149000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           340457             25949                  4938806      7836178      10703963     10737095     10762229     10770604
Repeatable Handle Time       340457             25949                  0            0            2            2            2            942
Worker Queue Time            340457             25949                  0            0            205542       208965       617360       3068363
Worker Handle Time           340457             25949                  10           12           168          543          3075         205339
Total                        340457             25949                  4938823      7841700      10704432     10737930     10768525     10840856
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8726               665                    4938843      7844483      10710400     10739159     10762986     10769839
Repeatable Handle Time       8726               665                    0            0            2            2            2            24
Worker Queue Time            8726               665                    0            0            205258       208889       418151       3064996
Worker Handle Time           8726               665                    5001         8179         214939       423116       718157       3712803
Total                        8726               665                    4948213      7865842      10733159     10759407     10844487     10966169
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           349183             26614                  4938806      7836246      10703970     10737152     10762258     10770604
Repeatable Handle Time       349183             26614                  0            0            2            2            2            942
Worker Queue Time            349183             26614                  0            0            205545       208976       617360       3068363
Worker Handle Time           349183             26614                  10           12           8878         12400        39284        3712803
Total                        349183             26614                  4938823      7841840      10704741     10740965     10768591     10966169
Running experiment for throughput = 150000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '35us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.025', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '150000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           230167             17677                  6290119      8901939      11409093     11423252     11437885     11444928
Repeatable Handle Time       230167             17677                  0            0            2            2            3            902
Worker Queue Time            230167             17677                  0            0            13           22           149          79390
Worker Handle Time           230167             17677                  10           12           124          405          2021         148434
Total                        230167             17677                  6290145      8901960      11409117     11423285     11437943     11491053
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6042               464                    6290226      8876340      11400418     11419959     11442488     11444960
Repeatable Handle Time       6042               464                    0            0            2            2            2            3
Worker Queue Time            6042               464                    0            0            18           21           113          15246
Worker Handle Time           6042               464                    5001         10377        107451       185355       527049       2298200
Total                        6042               464                    6299524      8896379      11415682     11439770     11457945     11639382
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           236209             18141                  6290119      8901800      11409083     11423252     11437938     11444960
Repeatable Handle Time       236209             18141                  0            0            2            2            3            902
Worker Queue Time            236209             18141                  0            0            13           22           150          79390
Worker Handle Time           236209             18141                  10           12           11353        16434        43897        2298200
Total                        236209             18141                  6290145      8901924      11409124     11423300     11438271     11639382
