Running ghOSt experiments...
Output Directory: /tmp/ghost_data/2023-11-13 00:23:15
{"throughputs": [10000, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 110000, 120000, 130000, 140000, 141000, 142000, 143000, 144000, 145000, 146000, 147000, 148000, 149000, 150000], "output_prefix": "/tmp/ghost_data/2023-11-13 00:23:15", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.05, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 200, "worker_cpus": [], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "ghost", "ghost_qos": 2}, "antagonist": null, "ghost": {"firstcpu": 11, "globalcpu": 11, "ncpus": 7, "preemption_time_slice": "30us"}}
Running experiment for throughput = 10000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           126575             9574                   0            0            10           13           15           257
Repeatable Handle Time       126575             9574                   0            0            2            2            3            25
Worker Queue Time            126575             9574                   0            16           79           161          692          14317
Worker Handle Time           126575             9574                   11           12           28           35           70           3693
Total                        126575             9574                   11           29           101          193          714          14332
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6685               505                    0            0            11           13           20           790
Repeatable Handle Time       6685               505                    0            0            2            2            2            17
Worker Queue Time            6685               505                    0            16           82           148          609          12960
Worker Handle Time           6685               505                    5001         5012         7443         7912         8714         17586
Total                        6685               505                    5001         5039         7540         7952         8799         18264
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           133260             10080                  0            0            10           13           15           790
Repeatable Handle Time       133260             10080                  0            0            2            2            3            25
Worker Queue Time            133260             10080                  0            16           79           159          675          14317
Worker Handle Time           133260             10080                  11           12           5136         5466         6764         17586
Total                        133260             10080                  11           29           5169         5558         7218         18264
Running experiment for throughput = 20000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           229254             17339                  107676       615907       1113963      1125308      1128753      1134164
Repeatable Handle Time       229254             17339                  0            0            2            2            3            873
Worker Queue Time            229254             17339                  0            0            21           28           618          12965056
Worker Handle Time           229254             17339                  11           12           120          437          2338         304848
Total                        229254             17339                  107697       616020       1114248      1125458      1129272      13100215
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           12174              920                    107705       615978       1114752      1124929      1128323      1134039
Repeatable Handle Time       12174              920                    0            0            2            2            3            5
Worker Queue Time            12174              920                    0            0            21           25           132          7349323
Worker Handle Time           12174              920                    5001         10991        110295       217189       1029404      12968333
Total                        12174              920                    118294       636703       1135948      1147204      2236900      13105359
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           241428             18260                  107676       615919       1114035      1125295      1128777      1134164
Repeatable Handle Time       241428             18260                  0            0            2            2            3            873
Worker Queue Time            241428             18260                  0            0            21           28           569          12965056
Worker Handle Time           241428             18260                  11           12           16111        25061        62081        12968333
Total                        241428             18260                  107697       616686       1115377      1126073      1132934      13105359
Running experiment for throughput = 30000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           254106             19501                  631825       2178320      4061275      4078088      4101160      4103352
Repeatable Handle Time       254106             19501                  0            0            2            2            3            317
Worker Queue Time            254106             19501                  0            0            209367       212017       1067300      3202051
Worker Handle Time           254106             19501                  11           12           156          492          3065         210251
Total                        254106             19501                  631841       2185172      4070430      4097982      4255820      6142465
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           13536              1038                   631841       2181200      4061880      4083420      4100294      4102689
Repeatable Handle Time       13536              1038                   0            0            2            2            3            813
Worker Queue Time            13536              1038                   0            0            209372       212750       785570       3202053
Worker Handle Time           13536              1038                   5001         8876         220290       575346       1922629      3741848
Total                        13536              1038                   638920       2208211      4094748      4118129      5008179      6691140
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           267642             20540                  631825       2178385      4061296      4078125      4101151      4103352
Repeatable Handle Time       267642             20540                  0            0            2            2            3            813
Worker Queue Time            267642             20540                  0            0            209368       212058       1067049      3202053
Worker Handle Time           267642             20540                  11           12           13088        21521        107259       3741848
Total                        267642             20540                  631841       2186642      4070565      4098455      4281376      6691140
Running experiment for throughput = 40000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           189974             14576                  2384567      5138549      7992789      8019723      8038667      8063362
Repeatable Handle Time       189974             14576                  0            0            2            2            3            129
Worker Queue Time            189974             14576                  0            0            210992       212916       1254075      5768489
Worker Handle Time           189974             14576                  11           12           158          396          3467         1286128
Total                        189974             14576                  2384580      5149035      7997990      8025099      8040226      10735885
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9814               753                    2384586      5174679      7986778      8014347      8033258      8062177
Repeatable Handle Time       9814               753                    0            0            2            2            3            12
Worker Queue Time            9814               753                    0            0            210802       213063       1070920      5767499
Worker Handle Time           9814               753                    5002         11023        574934       864517       2362913      5562247
Total                        9814               753                    2394615      5205877      8028209      8050473      9124954      10743447
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           199788             15329                  2384567      5139745      7992738      8019648      8038618      8063362
Repeatable Handle Time       199788             15329                  0            0            2            2            3            129
Worker Queue Time            199788             15329                  0            0            210990       212922       1253805      5768489
Worker Handle Time           199788             15329                  11           12           15772        25325        224538       5562247
Total                        199788             15329                  2384580      5149583      8001026      8027524      8062245      10743447
Running experiment for throughput = 50000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           225909             17360                  2483478      5370088      8202264      8238463      8261389      8264266
Repeatable Handle Time       225909             17360                  0            0            2            2            3            784
Worker Queue Time            225909             17360                  0            0            45           105945       566437       1028622
Worker Handle Time           225909             17360                  10           12           142          413          2662         1023289
Total                        225909             17360                  2483491      5370164      8205691      8238871      8263349      8362094
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11724              900                    2483497      5365911      8203084      8236926      8258900      8263962
Repeatable Handle Time       11724              900                    0            0            2            2            3            456
Worker Queue Time            11724              900                    0            0            35           19801        566302       1022282
Worker Handle Time           11724              900                    5001         8609         246029       950648       2221525      5353952
Total                        11724              900                    2491982      5400547      8233650      8259964      8644385      9160756
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           237633             18261                  2483478      5368728      8202318      8238387      8261374      8264266
Repeatable Handle Time       237633             18261                  0            0            2            2            3            784
Worker Queue Time            237633             18261                  0            0            45           92073        566437       1028622
Worker Handle Time           237633             18261                  10           12           11689        16550        61901        5353952
Total                        237633             18261                  2483491      5371401      8208803      8239129      8263504      9160756
Running experiment for throughput = 60000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           119617             9194                   5170704      7911675      10839168     10867154     10900916     10906042
Repeatable Handle Time       119617             9194                   0            0            2            3            3            913
Worker Queue Time            119617             9194                   0            0            234575       364116       1021344      1285310
Worker Handle Time           119617             9194                   11           12           209          623          5445         1094664
Total                        119617             9194                   5170716      7918958      10839201     10867279     10900947     10923963
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6347               487                    5170708      7972114      10839316     10876490     10901703     10906179
Repeatable Handle Time       6347               487                    0            0            2            3            3            32
Worker Queue Time            6347               487                    0            0            249307       352074       1015224      1104936
Worker Handle Time           6347               487                    5001         12766        520513       844740       1082618      2133071
Total                        6347               487                    5179821      8004767      10872161     10905467     11131726     11179780
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           125964             9682                   5170704      7913560      10839168     10867302     10900924     10906179
Repeatable Handle Time       125964             9682                   0            0            2            3            3            913
Worker Queue Time            125964             9682                   0            0            234915       364104       1020125      1285310
Worker Handle Time           125964             9682                   11           12           23070        33811        193798       2133071
Total                        125964             9682                   5170716      7926763      10842110     10871099     10902871     11179780
Running experiment for throughput = 70000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '70000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           174535             13308                  4907636      7666919      10422100     10455731     10473459     10480425
Repeatable Handle Time       174535             13308                  0            0            2            2            3            1704
Worker Queue Time            174535             13308                  0            0            209966       214156       1021949      1237694
Worker Handle Time           174535             13308                  10           12           156          478          2899         210301
Total                        174535             13308                  4907664      7679467      10429133     10462072     10480310     10591836
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9186               700                    4907659      7683593      10424066     10453159     10472962     10480113
Repeatable Handle Time       9186               700                    0            0            2            2            3            15
Worker Queue Time            9186               700                    0            0            209843       212583       650421       1237612
Worker Handle Time           9186               700                    5890         8566         218853       432201       1074505      2159070
Total                        9186               700                    4915879      7718588      10447886     10475080     10595666     11066859
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           183721             14008                  4907636      7672128      10422113     10455716     10473459     10480425
Repeatable Handle Time       183721             14008                  0            0            2            2            3            1704
Worker Queue Time            183721             14008                  0            0            209960       214092       1021654      1237694
Worker Handle Time           183721             14008                  10           12           11953        19336        110103       2159070
Total                        183721             14008                  4907664      7681102      10429225     10462550     10480574     11066859
Running experiment for throughput = 80000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '80000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           107479             8194                   6740406      9233922      11658969     11675359     11693340     11695478
Repeatable Handle Time       107479             8194                   0            0            2            2            3            636
Worker Queue Time            107479             8194                   0            0            210558       418625       1260303      1506585
Worker Handle Time           107479             8194                   11           12           140          378          2314         423632
Total                        107479             8194                   6740473      9246829      11659792     11683852     11695936     11944274
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5763               439                    6740530      9197843      11639889     11675831     11693773     11695266
Repeatable Handle Time       5763               439                    0            0            2            2            3            155
Worker Queue Time            5763               439                    0            0            209530       213103       1285367      1291012
Worker Handle Time           5763               439                    7081         11228        220909       622676       1373022      2768681
Total                        5763               439                    6752133      9225723      11688141     11722191     12038613     12358961
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           113242             8633                   6740406      9233770      11658967     11675359     11693349     11695478
Repeatable Handle Time       113242             8633                   0            0            2            2            3            636
Worker Queue Time            113242             8633                   0            0            210519       216001       1260290      1506585
Worker Handle Time           113242             8633                   11           12           15966        25490        120277       2768681
Total                        113242             8633                   6740473      9244917      11667203     11683918     11708823     12358961
Running experiment for throughput = 90000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '90000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           149624             11501                  6005772      8632364      11190432     11224467     11249865     11254980
Repeatable Handle Time       149624             11501                  0            0            2            2            3            96
Worker Queue Time            149624             11501                  0            0            22           27           211          2409914
Worker Handle Time           149624             11501                  11           12           118          362          2027         58620
Total                        149624             11501                  6005794      8632408      11190451     11224487     11249886     11254992
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7881               605                    6005793      8628528      11201703     11228890     11252075     11254992
Repeatable Handle Time       7881               605                    0            0            2            2            3            14
Worker Queue Time            7881               605                    0            0            22           29           156          2336
Worker Handle Time           7881               605                    6426         8683         94998        176786       685756       6333168
Total                        7881               605                    6014695      8644272      11216611     11244810     11270321     12846857
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           157505             12107                  6005772      8632358      11190475     11224493     11249901     11254992
Repeatable Handle Time       157505             12107                  0            0            2            2            3            96
Worker Queue Time            157505             12107                  0            0            22           27           211          2409914
Worker Handle Time           157505             12107                  11           12           12227        20415        58622        6333168
Total                        157505             12107                  6005794      8632774      11190552     11225527     11251834     12846857
Running experiment for throughput = 100000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '100000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           66544              5116                   9116015      10703620     12285848     12293714     12302706     12304548
Repeatable Handle Time       66544              5116                   0            0            2            2            3            18
Worker Queue Time            66544              5116                   0            0            209349       215360       621760       841006
Worker Handle Time           66544              5116                   11           12           156          439          2628         210519
Total                        66544              5116                   9116027      10705803     12285882     12293780     12302744     12304560
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3552               273                    9116276      10694247     12272579     12289691     12301599     12303277
Repeatable Handle Time       3552               273                    0            0            2            2            3            13
Worker Queue Time            3552               273                    0            0            210156       412267       621471       839606
Worker Handle Time           3552               273                    5001         11285        220614       443586       1075169      1698789
Total                        3552               273                    9126493      10720499     12296288     12311036     12389637     12582232
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           70096              5389                   9116015      10699399     12285640     12293601     12302703     12304548
Repeatable Handle Time       70096              5389                   0            0            2            2            3            18
Worker Queue Time            70096              5389                   0            0            209410       215543       621760       841006
Worker Handle Time           70096              5389                   11           12           16346        25706        155599       1698789
Total                        70096              5389                   9116027      10706098     12286036     12298645     12303048     12582232
Running experiment for throughput = 110000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '110000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           107948             8217                   7976996      10047636     12063161     12084081     12101827     12103283
Repeatable Handle Time       107948             8217                   0            0            2            2            3            181
Worker Queue Time            107948             8217                   0            0            212124       214650       643608       1291295
Worker Handle Time           107948             8217                   11           12           159          469          3266         423544
Total                        107948             8217                   7977009      10054056     12063180     12084102     12101849     12103326
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5734               436                    7977179      10038384     12062644     12084013     12099482     12103036
Repeatable Handle Time       5734               436                    0            0            2            2            3            26
Worker Queue Time            5734               436                    0            0            211715       215720       643760       1290885
Worker Handle Time           5734               436                    5001         8973         221429       437192       1295340      2147715
Total                        5734               436                    7987616      10065123     12084823     12104790     12299882     12471916
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           113682             8654                   7976996      10045575     12063168     12084076     12101822     12103283
Repeatable Handle Time       113682             8654                   0            0            2            2            3            181
Worker Queue Time            113682             8654                   0            0            212099       214685       643612       1291295
Worker Handle Time           113682             8654                   11           12           12502        19280        88264        2147715
Total                        113682             8654                   7977009      10054257     12064574     12084231     12102184     12471916
Running experiment for throughput = 120000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '120000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           27866              2142                   11412567     12120708     12745191     12754412     12757553     12757613
Repeatable Handle Time       27866              2142                   0            0            2            2            3            18
Worker Queue Time            27866              2142                   0            0            22           26           82           70501
Worker Handle Time           27866              2142                   11           12           115          404          1495         12772
Total                        27866              2142                   11412600     12120784     12745208     12754447     12757566     12757625
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1455               111                    11413258     12097313     12745657     12753209     12757593     12757610
Repeatable Handle Time       1455               111                    0            0            2            2            3            3
Worker Queue Time            1455               111                    0            0            24           29           1624         18461
Worker Handle Time           1455               111                    8368         11099        95573        172585       425854       1231745
Total                        1455               111                    11424243     12113799     12765000     12768617     12795020     12958153
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           29321              2254                   11412567     12119480     12745210     12753970     12757554     12757613
Repeatable Handle Time       29321              2254                   0            0            2            2            3            18
Worker Queue Time            29321              2254                   0            0            22           26           85           70501
Worker Handle Time           29321              2254                   11           12           15296        25070        57671        1231745
Total                        29321              2254                   11412600     12120609     12746031     12754499     12757596     12958153
Running experiment for throughput = 130000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '130000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           74280              5642                   9682188      11091988     12537573     12552959     12561526     12564260
Repeatable Handle Time       74280              5642                   0            0            2            2            3            8339
Worker Queue Time            74280              5642                   0            0            210052       214420       646641       1081282
Worker Handle Time           74280              5642                   11           12           169          633          3266         211732
Total                        74280              5642                   9682203      11098639     12537592     12552979     12561543     12564326
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3880               294                    9683540      11115271     12535430     12548775     12560563     12564258
Repeatable Handle Time       3880               294                    0            0            2            2            2            12
Worker Queue Time            3880               294                    0            0            210438       215088       850920       855999
Worker Handle Time           3880               294                    6399         8730         222888       432334       654851       2158810
Total                        3880               294                    9690979      11151380     12559737     12580948     12690459     12727642
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           78160              5937                   9682188      11092058     12537563     12552640     12561524     12564260
Repeatable Handle Time       78160              5937                   0            0            2            2            3            8339
Worker Queue Time            78160              5937                   0            0            210075       214484       646705       1081282
Worker Handle Time           78160              5937                   11           12           12545        19988        134851       2158810
Total                        78160              5937                   9682203      11100771     12538491     12553178     12561855     12727642
Running experiment for throughput = 140000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '140000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Running experiment for throughput = 141000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '141000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           51851              3957                   10596602     11687277     12692903     12700942     12711333     12711977
Repeatable Handle Time       51851              3957                   0            0            2            2            3            159
Worker Queue Time            51851              3957                   0            0            209390       210921       424735       645298
Worker Handle Time           51851              3957                   11           12           134          370          2217         208916
Total                        51851              3957                   10596614     11696357     12692918     12700977     12711377     12739772
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2802               213                    10596620     11654029     12693205     12701573     12711395     12712937
Repeatable Handle Time       2802               213                    0            0            2            2            2            4
Worker Queue Time            2802               213                    0            0            209534       211274       428043       644443
Worker Handle Time           2802               213                    6476         8992         212158       430895       808643       1029775
Total                        2802               213                    10605016     11694844     12708984     12720884     12896590     12927002
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           54653              4170                   10596602     11687139     12692903     12700965     12711339     12712937
Repeatable Handle Time       54653              4170                   0            0            2            2            3            159
Worker Queue Time            54653              4170                   0            0            209422       210987       424817       645298
Worker Handle Time           54653              4170                   11           12           11924        16079        56665        1029775
Total                        54653              4170                   10596614     11696352     12693067     12701311     12711481     12927002
Running experiment for throughput = 142000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '142000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Running experiment for throughput = 143000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '143000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           43154              3317                   10799612     11705380     12664947     12682149     12684706     12689564
Repeatable Handle Time       43154              3317                   0            0            2            2            3            75
Worker Queue Time            43154              3317                   0            0            210202       413390       581910       898909
Worker Handle Time           43154              3317                   11           12           213          649          5159         654885
Total                        43154              3317                   10799624     11713295     12664974     12682214     12686357     12921134
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2287               175                    10799664     11681428     12664974     12682369     12689126     12689566
Repeatable Handle Time       2287               175                    0            0            2            2            3            15
Worker Queue Time            2287               175                    0            0            206795       412365       578266       898415
Worker Handle Time           2287               175                    5001         9364         338577       547526       788029       1068972
Total                        2287               175                    10807688     11710598     12712197     12851907     12943389     12958402
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           45441              3492                   10799612     11704772     12664948     12682150     12687645     12689566
Repeatable Handle Time       45441              3492                   0            0            2            2            3            75
Worker Queue Time            45441              3492                   0            0            210094       413246       581920       898909
Worker Handle Time           45441              3492                   11           12           15618        24487        138777       1068972
Total                        45441              3492                   10799624     11713238     12667821     12682383     12689519     12958402
Running experiment for throughput = 144000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '144000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Running experiment for throughput = 145000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '145000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           42053              3226                   11030653     11898378     12710325     12720285     12727332     12727667
Repeatable Handle Time       42053              3226                   0            0            2            2            2            42
Worker Queue Time            42053              3226                   0            0            209699       212672       636467       637789
Worker Handle Time           42053              3226                   11           12           160          527          3396         203937
Total                        42053              3226                   11030698     11904058     12713875     12723396     12770502     12772148
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2235               171                    11030626     11879921     12712934     12718637     12726901     12727444
Repeatable Handle Time       2235               171                    0            0            2            2            2            3
Worker Queue Time            2235               171                    0            0            208465       210636       218121       634889
Worker Handle Time           2235               171                    6563         8769         209473       217919       645391       1063219
Total                        2235               171                    11038283     11898278     12733446     12742180     12858643     12920189
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           44288              3397                   11030626     11895809     12710339     12719425     12727324     12727667
Repeatable Handle Time       44288              3397                   0            0            2            2            2            42
Worker Queue Time            44288              3397                   0            0            209574       212608       635266       637789
Worker Handle Time           44288              3397                   11           12           12367        18649        71566        1063219
Total                        44288              3397                   11030698     11904049     12716757     12725566     12770691     12920189
Running experiment for throughput = 146000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '146000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Running experiment for throughput = 147000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '147000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           38377              2951                   11200144     11966984     12708373     12715404     12725110     12725610
Repeatable Handle Time       38377              2951                   0            0            2            2            3            119
Worker Queue Time            38377              2951                   0            0            207344       209305       422144       423343
Worker Handle Time           38377              2951                   11           12           170          581          2597         178396
Total                        38377              2951                   11200156     11971841     12708404     12715442     12725134     12732402
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1999               153                    11198149     11961654     12713149     12718667     12725261     12725295
Repeatable Handle Time       1999               153                    0            0            2            2            2            7
Worker Queue Time            1999               153                    0            0            206483       208171       420977       421267
Worker Handle Time           1999               153                    6658         8815         216338       246286       846870       1303452
Total                        1999               153                    11206049     11982237     12731617     12809104     12842281     12967170
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           40376              3105                   11198149     11966855     12708428     12715449     12725110     12725610
Repeatable Handle Time       40376              3105                   0            0            2            2            3            119
Worker Queue Time            40376              3105                   0            0            207306       209263       422049       423343
Worker Handle Time           40376              3105                   11           12           12279        19749        74490        1303452
Total                        40376              3105                   11200156     11972045     12712109     12717806     12725249     12967170
Running experiment for throughput = 148000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '148000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Running experiment for throughput = 149000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '149000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           41103              3140                   11172657     11971552     12783737     12791121     12794346     12796599
Repeatable Handle Time       41103              3140                   0            0            2            2            3            48
Worker Queue Time            41103              3140                   0            0            210463       213561       414045       419100
Worker Handle Time           41103              3140                   11           12           134          364          3434         209773
Total                        41103              3140                   11172683     11980285     12786979     12793958     12812553     12817832
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2143               163                    11172748     11987192     12783564     12790685     12794155     12795121
Repeatable Handle Time       2143               163                    0            0            2            2            2            5
Worker Queue Time            2143               163                    0            0            208962       212095       416257       419056
Worker Handle Time           2143               163                    5001         8523         228990       437906       474138       630611
Total                        2143               163                    11182620     12007469     12818200     12887725     12920698     12924325
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           43246              3304                   11172657     11972915     12783698     12791069     12794323     12796599
Repeatable Handle Time       43246              3304                   0            0            2            2            3            48
Worker Queue Time            43246              3304                   0            0            210446       213527       414097       419100
Worker Handle Time           43246              3304                   11           12           11796        18831        74426        630611
Total                        43246              3304                   11172683     11982294     12790612     12794063     12813584     12924325
Running experiment for throughput = 150000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.05', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '150000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           -                  -                      -            -            -            -            -            -
Repeatable Handle Time       -                  -                      -            -            -            -            -            -
Worker Queue Time            -                  -                      -            -            -            -            -            -
Worker Handle Time           -                  -                      -            -            -            -            -            -
Total                        -                  -                      -            -            -            -            -            -
