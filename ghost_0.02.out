Running ghOSt experiments...
Output Directory: /tmp/ghost_data/2023-11-11 01:52:11
{"throughputs": [10000, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 110000, 120000, 130000, 140000, 141000, 142000, 143000, 144000, 145000, 146000, 147000, 148000, 149000, 150000], "output_prefix": "/tmp/ghost_data/2023-11-11 01:52:11", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.02, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 200, "worker_cpus": [], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "ghost", "ghost_qos": 2}, "antagonist": null, "ghost": {"firstcpu": 11, "globalcpu": 11, "ncpus": 7, "preemption_time_slice": "30us"}}
Running experiment for throughput = 10000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           127257             9789                   0            0            12           13           18           221
Repeatable Handle Time       127257             9789                   0            0            2            2            3            29
Worker Queue Time            127257             9789                   0            15           70           76           133          2964
Worker Handle Time           127257             9789                   10           11           26           30           49           2988
Total                        127257             9789                   11           28           85           93           166          3043
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2624               201                    0            0            11           13           19           36
Repeatable Handle Time       2624               201                    0            0            2            2            2            3
Worker Queue Time            2624               201                    0            15           69           74           86           134
Worker Handle Time           2624               201                    5001         5015         6153         6337         6798         9343
Total                        2624               201                    5002         5058         6179         6361         6838         9359
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           129881             9990                   0            0            12           13           18           221
Repeatable Handle Time       129881             9990                   0            0            2            2            3            29
Worker Queue Time            129881             9990                   0            15           70           76           131          2964
Worker Handle Time           129881             9990                   10           11           5016         5297         5662         9343
Total                        129881             9990                   11           28           5059         5316         5691         9359
Running experiment for throughput = 20000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           254441             19572                  0            0            10           13           16           284
Repeatable Handle Time       254441             19572                  0            0            2            2            3            25
Worker Queue Time            254441             19572                  0            11           68           81           381          8666
Worker Handle Time           254441             19572                  10           11           30           37           71           8604
Total                        254441             19572                  11           25           85           108          426          8678
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5228               402                    0            0            10           12           15           103
Repeatable Handle Time       5228               402                    0            0            2            2            2            8
Worker Queue Time            5228               402                    0            11           66           74           236          955
Worker Handle Time           5228               402                    5001         5017         7364         8470         13257        68724
Total                        5228               402                    5002         5036         7387         8520         13289        68752
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           259669             19974                  0            0            10           13           16           284
Repeatable Handle Time       259669             19974                  0            0            2            2            3            25
Worker Queue Time            259669             19974                  0            11           68           81           381          8666
Worker Handle Time           259669             19974                  10           11           5017         5072         5558         68724
Total                        259669             19974                  11           25           5037         5092         5605         68752
Running experiment for throughput = 30000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           382219             29401                  0            0            4            9            14           590
Repeatable Handle Time       382219             29401                  0            0            2            2            2            38
Worker Queue Time            382219             29401                  0            12           144          343          4038         97062
Worker Handle Time           382219             29401                  10           11           48           75           219          38531
Total                        382219             29401                  11           26           185          422          4417         97075
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7774               597                    0            0            4            9            13           32
Repeatable Handle Time       7774               597                    0            0            2            2            3            17
Worker Queue Time            7774               597                    0            12           158          332          5318         16376
Worker Handle Time           7774               597                    5001         6123         30102        39565        72113        106691
Total                        7774               597                    5002         6141         30539        39658        72128        106766
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           389993             29999                  0            0            4            9            14           590
Repeatable Handle Time       389993             29999                  0            0            2            2            2            38
Worker Queue Time            389993             29999                  0            12           144          345          4049         97062
Worker Handle Time           389993             29999                  10           12           6125         8252         14941        106691
Total                        389993             29999                  11           27           6268         8982         15712        106766
Running experiment for throughput = 40000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           508361             39104                  0            0            4            7            19           3031
Repeatable Handle Time       508361             39104                  0            0            2            2            2            28
Worker Queue Time            508361             39104                  0            14           299          961          14944        167371
Worker Handle Time           508361             39104                  10           12           74           120          482          132793
Total                        508361             39104                  11           28           424          1277         15289        167385
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10269              789                    0            0            4            8            50           2723
Repeatable Handle Time       10269              789                    0            0            2            2            3            21
Worker Queue Time            10269              789                    0            14           286          901          13799        59598
Worker Handle Time           10269              789                    5001         7208         49142        70639        142799       175057
Total                        10269              789                    5001         7230         50113        71610        142818       175101
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           518630             39894                  0            0            4            7            19           3031
Repeatable Handle Time       518630             39894                  0            0            2            2            2            28
Worker Queue Time            518630             39894                  0            14           298          960          14863        167371
Worker Handle Time           518630             39894                  10           12           7206         9387         18290        175057
Total                        518630             39894                  11           28           8096         10485        26967        175101
Running experiment for throughput = 50000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           540499             41576                  331221       1128929      1942173      1944833      1952957      1955712
Repeatable Handle Time       540499             41576                  0            0            2            2            3            60
Worker Queue Time            540499             41576                  0            0            19           23           80           5006544
Worker Handle Time           540499             41576                  11           12           141          392          2266         2318240
Total                        540499             41576                  331246       1129023      1942214      1944865      1953010      5367591
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10951              842                    331228       1138454      1941631      1944551      1952962      1954515
Repeatable Handle Time       10951              842                    0            0            2            2            3            5
Worker Queue Time            10951              842                    0            0            21           28           153          171070
Worker Handle Time           10951              842                    5001         10884        69128        141305       2464939      12198677
Total                        10951              842                    339696       1152278      1955789      1963302      3093992      12727285
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           551450             42419                  331221       1129138      1942169      1944831      1952957      1955712
Repeatable Handle Time       551450             42419                  0            0            2            2            3            60
Worker Queue Time            551450             42419                  0            0            20           23           81           5006544
Worker Handle Time           551450             42419                  11           12           10934        13664        27803        12198677
Total                        551450             42419                  331246       1129685      1942397      1945243      1953426      12727285
Running experiment for throughput = 60000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           635974             48921                  351569       1288448      2148870      2161307      2177495      2179014
Repeatable Handle Time       635974             48921                  0            0            2            2            2            716
Worker Queue Time            635974             48921                  0            0            21           32           1644         1051439
Worker Handle Time           635974             48921                  11           12           154          393          2391         4750854
Total                        635974             48921                  351581       1288502      2148922      2161351      2177534      6164489
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           13055              1004                   351610       1273655      2150542      2166304      2176447      2178703
Repeatable Handle Time       13055              1004                   0            0            2            2            3            13
Worker Queue Time            13055              1004                   0            0            21           40           1593         27613
Worker Handle Time           13055              1004                   5001         8775         385703       4547323      4762230      4795688
Total                        13055              1004                   359727       1293783      2196572      6056130      6210695      6277968
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           649029             49925                  351569       1288332      2148892      2161323      2177495      2179014
Repeatable Handle Time       649029             49925                  0            0            2            2            2            716
Worker Queue Time            649029             49925                  0            0            21           32           1644         1051439
Worker Handle Time           649029             49925                  11           12           8848         11880        41202        4795688
Total                        649029             49925                  351581       1288646      2149408      2162620      2178286      6277968
Running experiment for throughput = 70000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '70000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           486698             37438                  1469962      3733573      5859559      5886822      5915404      5917637
Repeatable Handle Time       486698             37438                  0            0            2            2            3            130
Worker Queue Time            486698             37438                  0            0            20           24           82           545196
Worker Handle Time           486698             37438                  11           12           175          466          3050         240209
Total                        486698             37438                  1469989      3733600      5859591      5886865      5915425      5918585
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9826               755                    1469991      3720600      5866192      5888106      5912430      5916335
Repeatable Handle Time       9826               755                    0            0            2            2            3            3
Worker Queue Time            9826               755                    0            0            19           24           63           1562
Worker Handle Time           9826               755                    5001         11177        78023        140003       757729       9319995
Total                        9826               755                    1479817      3738953      5882876      5909086      5983662      11692264
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           496524             38193                  1469962      3733478      5859618      5886920      5915381      5917637
Repeatable Handle Time       496524             38193                  0            0            2            2            3            130
Worker Queue Time            496524             38193                  0            0            20           24           81           545196
Worker Handle Time           496524             38193                  11           12           11224        14398        29932        9319995
Total                        496524             38193                  1469989      3733624      5859801      5887072      5915538      11692264
Running experiment for throughput = 80000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '80000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           603436             46417                  1058258      3063485      5251119      5272603      5283622      5284800
Repeatable Handle Time       603436             46417                  0            0            2            2            3            152
Worker Queue Time            603436             46417                  0            0            20           24           71           524567
Worker Handle Time           603436             46417                  11           12           165          389          2481         593770
Total                        603436             46417                  1058278      3063519      5251152      5272654      5283652      5323611
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           12223              940                    1058269      3090635      5246056      5269755      5283469      5284478
Repeatable Handle Time       12223              940                    0            0            2            2            3            12
Worker Queue Time            12223              940                    0            0            20           24           60           17135
Worker Handle Time           12223              940                    5001         8754         72741        139987       706542       4612168
Total                        12223              940                    1066658      3105261      5265758      5285632      5382031      7737741
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           615659             47358                  1058258      3063664      5251089      5272596      5283620      5284800
Repeatable Handle Time       615659             47358                  0            0            2            2            3            152
Worker Queue Time            615659             47358                  0            0            20           24           71           524567
Worker Handle Time           615659             47358                  11           12           8805         10869        25274        4612168
Total                        615659             47358                  1058278      3063778      5251190      5273198      5283724      7737741
Running experiment for throughput = 90000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '90000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           461032             35463                  2072370      4887216      7695413      7727688      7752421      7757179
Repeatable Handle Time       461032             35463                  0            0            2            2            2            693
Worker Queue Time            461032             35463                  0            0            19           23           65           48048
Worker Handle Time           461032             35463                  10           12           125          359          2186         617100
Total                        461032             35463                  2072382      4887243      7695425      7727704      7752445      7757539
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9563               735                    2072415      4882776      7697573      7728119      7752493      7757181
Repeatable Handle Time       9563               735                    0            0            2            2            3            13
Worker Queue Time            9563               735                    0            0            19           24           81           33304
Worker Handle Time           9563               735                    5001         10661        73559        138941       432350       2869452
Total                        9563               735                    2081431      4899982      7714665      7745546      7777934      7942490
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           470595             36199                  2072370      4887160      7695489      7727716      7752423      7757181
Repeatable Handle Time       470595             36199                  0            0            2            2            2            693
Worker Queue Time            470595             36199                  0            0            19           23           65           48048
Worker Handle Time           470595             36199                  10           12           10772        13465        29711        2869452
Total                        470595             36199                  2072382      4887468      7696009      7727933      7752475      7942490
Running experiment for throughput = 100000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '100000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           560182             43090                  1864486      4594560      7229228      7251056      7268563      7274521
Repeatable Handle Time       560182             43090                  0            0            2            2            3            735
Worker Queue Time            560182             43090                  0            0            21           30           1834         3206850
Worker Handle Time           560182             43090                  10           12           155          371          2088         408063
Total                        560182             43090                  1864507      4597021      7229258      7251091      7268667      8690039
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11503              884                    1864574      4592965      7224556      7249170      7268356      7273238
Repeatable Handle Time       11503              884                    0            0            2            2            3            10
Worker Queue Time            11503              884                    0            0            19           25           533          3011733
Worker Handle Time           11503              884                    5001         8723         136626       6717900      6787361      10673196
Total                        11503              884                    1872657      4638480      7264580      10728779     10790935     12786176
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           571685             43975                  1864486      4594538      7229217      7251052      7268568      7274521
Repeatable Handle Time       571685             43975                  0            0            2            2            3            735
Worker Queue Time            571685             43975                  0            0            21           30           1834         3206850
Worker Handle Time           571685             43975                  10           12           8779         11101        26878        10673196
Total                        571685             43975                  1864507      4599169      7230892      7251171      7269037      12786176
Running experiment for throughput = 110000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '110000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           439040             33772                  2948199      5939636      8892878      8915473      8934644      8939214
Repeatable Handle Time       439040             33772                  0            0            2            2            3            71
Worker Queue Time            439040             33772                  0            0            20           24           70           827018
Worker Handle Time           439040             33772                  10           12           163          451          2307         1221799
Total                        439040             33772                  2948228      5939661      8892895      8915641      8934673      9420062
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8786               675                    2948305      5939745      8884007      8911995      8934261      8938998
Repeatable Handle Time       8786               675                    0            0            2            2            3            54
Worker Queue Time            8786               675                    0            0            20           23           70           79237
Worker Handle Time           8786               675                    5001         10790        61841        159820       1354060      8478608
Total                        8786               675                    2959415      5958045      8899699      8928845      8954160      12371368
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           447826             34448                  2948199      5939637      8892788      8915466      8934642      8939214
Repeatable Handle Time       447826             34448                  0            0            2            2            3            71
Worker Queue Time            447826             34448                  0            0            20           24           70           827018
Worker Handle Time           447826             34448                  10           12           10789        13363        26800        8478608
Total                        447826             34448                  2948228      5939777      8892917      8916359      8934868      12371368
Running experiment for throughput = 120000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '120000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           520699             40053                  2652993      5568139      8514095      8539425      8562475      8570075
Repeatable Handle Time       520699             40053                  0            0            2            2            3            428
Worker Queue Time            520699             40053                  0            0            20           27           371          2915834
Worker Handle Time           520699             40053                  10           12           132          334          2252         6268752
Total                        520699             40053                  2653030      5568170      8514127      8539471      8562511      11245070
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10668              820                    2653368      5586677      8511224      8539344      8562507      8569700
Repeatable Handle Time       10668              820                    0            0            2            2            3            12
Worker Queue Time            10668              820                    0            0            20           25           315          2436
Worker Handle Time           10668              820                    5001         8712         76234        225336       6280873      6293655
Total                        10668              820                    2661076      5610082      8537473      8562496      11254343     11263016
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           531367             40874                  2652993      5568370      8514085      8539440      8562484      8570075
Repeatable Handle Time       531367             40874                  0            0            2            2            3            428
Worker Queue Time            531367             40874                  0            0            20           27           370          2915834
Worker Handle Time           531367             40874                  10           12           8771         10804        24033        6293655
Total                        531367             40874                  2653030      5570021      8514342      8540037      8562762      11263016
Running experiment for throughput = 130000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '130000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           382795             29445                  3954413      7056918      9945560      9969779      9989401      9993914
Repeatable Handle Time       382795             29445                  0            0            2            2            3            251
Worker Queue Time            382795             29445                  0            0            19           24           86           5344366
Worker Handle Time           382795             29445                  11           12           148          409          2541         242195
Total                        382795             29445                  3954440      7056991      9945635      9969802      9989434      11075551
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7766               597                    3954910      6975677      9936116      9967431      9989227      9993255
Repeatable Handle Time       7766               597                    0            0            2            2            3            12
Worker Queue Time            7766               597                    0            0            20           24           275          913302
Worker Handle Time           7766               597                    5001         11018        74683        137745       817119       6451940
Total                        7766               597                    3966241      6995258      9954749      9982493      10005749     12477639
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           390561             30043                  3954413      7052782      9945357      9969777      9989396      9993914
Repeatable Handle Time       390561             30043                  0            0            2            2            3            251
Worker Queue Time            390561             30043                  0            0            19           24           87           5344366
Worker Handle Time           390561             30043                  11           12           11072        13847        28964        6451940
Total                        390561             30043                  3954440      7053066      9945715      9969820      9989635      12477639
Running experiment for throughput = 140000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '140000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           477179             36706                  3473413      6462089      9467857      9495689      9516117      9523111
Repeatable Handle Time       477179             36706                  0            0            2            2            2            140
Worker Queue Time            477179             36706                  0            0            20           27           316          5445304
Worker Handle Time           477179             36706                  11           12           148          397          2264         2299429
Total                        477179             36706                  3473446      6462677      9468745      9497179      9518045      12361638
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9787               752                    3473455      6489922      9464043      9494105      9516116      9523071
Repeatable Handle Time       9787               752                    0            0            2            2            3            43
Worker Queue Time            9787               752                    0            0            20           26           565          5444516
Worker Handle Time           9787               752                    5001         8788         79126        156551       989107       3554203
Total                        9787               752                    3481778      6506248      9482224      9508868      9676637      12366345
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           486966             37458                  3473413      6462354      9467840      9495666      9516116      9523111
Repeatable Handle Time       486966             37458                  0            0            2            2            2            140
Worker Queue Time            486966             37458                  0            0            20           26           324          5445304
Worker Handle Time           486966             37458                  11           12           8847         10925        25140        3554203
Total                        486966             37458                  3473446      6464579      9468904      9497430      9518099      12366345
Running experiment for throughput = 141000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '141000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           367480             28267                  4403677      7404614      10267660     10297639     10331386     10338539
Repeatable Handle Time       367480             28267                  0            0            2            2            3            718
Worker Queue Time            367480             28267                  0            0            20           24           69           111204
Worker Handle Time           367480             28267                  11           12           127          343          2063         64103
Total                        367480             28267                  4403688      7404632      10267680     10297669     10331408     10341821
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7444               572                    4403972      7376951      10272867     10305512     10331437     10338550
Repeatable Handle Time       7444               572                    0            0            2            2            3            4
Worker Queue Time            7444               572                    0            0            19           22           50           27090
Worker Handle Time           7444               572                    5001         10864        88403        178533       595639       1801473
Total                        7444               572                    4413173      7391461      10289542     10321494     10346700     10558977
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           374924             28840                  4403677      7404563      10267670     10297731     10331387     10338550
Repeatable Handle Time       374924             28840                  0            0            2            2            3            718
Worker Queue Time            374924             28840                  0            0            20           24           69           111204
Worker Handle Time           374924             28840                  11           12           10878        13357        30041        1801473
Total                        374924             28840                  4403688      7404627      10267699     10297931     10331442     10558977
Running experiment for throughput = 142000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '142000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           409000             31461                  3413467      5978250      9980764      10012422     10050900     10059667
Repeatable Handle Time       409000             31461                  0            0            2            2            3            1352
Worker Queue Time            409000             31461                  0            0            1475         16434        306546       3832478
Worker Handle Time           409000             31461                  10           12           216          512          3861         2320335
Total                        409000             31461                  3413488      5979664      9981250      10012856     10053072     10301768
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8484               652                    3413478      6016582      9987997      10021693     10052227     10059613
Repeatable Handle Time       8484               652                    0            0            2            2            3            13
Worker Queue Time            8484               652                    0            0            1299         16353        176658       2394218
Worker Handle Time           8484               652                    5001         9430         2085633      2327626      3811902      6236255
Total                        8484               652                    3421281      6053799      10024349     10060784     10290896     11171329
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           417484             32114                  3413467      5978858      9980779      10012592     10051452     10059667
Repeatable Handle Time       417484             32114                  0            0            2            2            3            1352
Worker Queue Time            417484             32114                  0            0            1471         16429        235623       3832478
Worker Handle Time           417484             32114                  10           12           9701         15482        67999        6236255
Total                        417484             32114                  3413488      5980553      9981612      10014713     10053671     11171329
Running experiment for throughput = 143000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '143000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           349696             26899                  4717557      7665211      10430967     10462397     10499840     10502384
Repeatable Handle Time       349696             26899                  0            0            2            2            3            69
Worker Queue Time            349696             26899                  0            0            18           22           106          1780696
Worker Handle Time           349696             26899                  11           12           118          327          2028         329004
Total                        349696             26899                  4717569      7665269      10430980     10462426     10499863     10505146
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7228               555                    4717592      7629215      10440422     10472157     10497763     10502181
Repeatable Handle Time       7228               555                    0            0            2            2            2            10
Worker Queue Time            7228               555                    0            0            15           20           46           243332
Worker Handle Time           7228               555                    5001         10643        63818        113984       948088       4389193
Total                        7228               555                    4727778      7644982      10463564     10492536     10519871     11919530
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           356924             27455                  4717557      7664885      10431187     10462853     10499839     10502384
Repeatable Handle Time       356924             27455                  0            0            2            2            3            69
Worker Queue Time            356924             27455                  0            0            18           22           102          1780696
Worker Handle Time           356924             27455                  11           12           10733        13548        27972        4389193
Total                        356924             27455                  4717569      7665198      10431789     10463463     10499875     11919530
Running experiment for throughput = 144000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '144000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           473693             36437                  3532995      6550547      9584444      9609222      9635967      9643064
Repeatable Handle Time       473693             36437                  0            0            2            2            3            79
Worker Queue Time            473693             36437                  0            0            19           23           62           7366976
Worker Handle Time           473693             36437                  11           12           146          376          2136         1660150
Total                        473693             36437                  3533007      6550848      9584529      9609324      9636007      11718052
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9810               754                    3533474      6578970      9581907      9610708      9636043      9642408
Repeatable Handle Time       9810               754                    0            0            2            2            3            23
Worker Queue Time            9810               754                    0            0            20           23           57           259
Worker Handle Time           9810               754                    5001         8645         51955        89587        561909       7477792
Total                        9810               754                    3542285      6593158      9597547      9626068      9664990      11761940
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           483503             37192                  3532995      6552229      9584441      9609234      9635969      9643064
Repeatable Handle Time       483503             37192                  0            0            2            2            3            79
Worker Queue Time            483503             37192                  0            0            19           23           62           7366976
Worker Handle Time           483503             37192                  11           12           8719         10569        23890        7477792
Total                        483503             37192                  3533007      6552514      9584554      9609473      9636048      11761940
Running experiment for throughput = 145000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '145000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           346410             26646                  4767683      7616094      10505046     10526839     10552784     10562071
Repeatable Handle Time       346410             26646                  0            0            2            2            3            120
Worker Queue Time            346410             26646                  0            0            20           24           68           154989
Worker Handle Time           346410             26646                  10           12           148          374          2280         945244
Total                        346410             26646                  4767696      7616131      10505075     10526885     10552799     10562096
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7130               548                    4767792      7626305      10504919     10532572     10554674     10561802
Repeatable Handle Time       7130               548                    0            0            2            2            3            10
Worker Queue Time            7130               548                    0            0            20           24           48           802
Worker Handle Time           7130               548                    5001         10821        64087        124636       536263       5222388
Total                        7130               548                    4777309      7642036      10522412     10551915     10574792     11590850
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           353540             27195                  4767683      7616270      10505047     10526985     10552849     10562071
Repeatable Handle Time       353540             27195                  0            0            2            2            3            120
Worker Queue Time            353540             27195                  0            0            20           24           67           154989
Worker Handle Time           353540             27195                  10           12           10902        13472        28812        5222388
Total                        353540             27195                  4767696      7616677      10505117     10527810     10553205     11590850
Running experiment for throughput = 146000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '146000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           473086             36391                  3563869      6670163      9635522      9662763      9685645      9689125
Repeatable Handle Time       473086             36391                  0            0            2            2            3            136
Worker Queue Time            473086             36391                  0            0            21           26           91           231000
Worker Handle Time           473086             36391                  11           12           153          361          2001         756169
Total                        473086             36391                  3563882      6670274      9635545      9662787      9685658      9689138
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9753               750                    3563869      6635229      9630091      9659746      9684822      9689139
Repeatable Handle Time       9753               750                    0            0            2            2            3            34
Worker Queue Time            9753               750                    0            0            21           25           106          13737
Worker Handle Time           9753               750                    5001         8734         69628        129364       725771       5683149
Total                        9753               750                    3572324      6647971      9644580      9674939      9700513      9959091
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           482839             37141                  3563869      6669408      9635516      9662757      9685648      9689139
Repeatable Handle Time       482839             37141                  0            0            2            2            3            136
Worker Queue Time            482839             37141                  0            0            21           26           92           231000
Worker Handle Time           482839             37141                  11           12           8798         10709        24850        5683149
Total                        482839             37141                  3563882      6669835      9635556      9662805      9686260      9959091
Running experiment for throughput = 147000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '147000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           343803             26446                  4684681      7569822      10542174     10580149     10603248     10612520
Repeatable Handle Time       343803             26446                  0            0            2            2            3            1921
Worker Queue Time            343803             26446                  0            0            21           27           93           206293
Worker Handle Time           343803             26446                  11           12           157          427          2104         238913
Total                        343803             26446                  4684693      7569867      10542221     10580173     10603321     10615416
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7158               550                    4684907      7619100      10547663     10580170     10602087     10610017
Repeatable Handle Time       7158               550                    0            0            2            2            3            3
Worker Queue Time            7158               550                    0            0            20           24           49           400
Worker Handle Time           7158               550                    5001         10947        95751        218999       1049213      7290456
Total                        7158               550                    4694536      7637196      10564251     10598622     10629246     12711127
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           350961             26996                  4684681      7572208      10542267     10580157     10603248     10612520
Repeatable Handle Time       350961             26996                  0            0            2            2            3            1921
Worker Queue Time            350961             26996                  0            0            21           27           93           206293
Worker Handle Time           350961             26996                  11           12           11060        13625        28072        7290456
Total                        350961             26996                  4684693      7573015      10542556     10580639     10605577     12711127
Running experiment for throughput = 148000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '148000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           472839             36371                  3764013      6821463      9684484      9718516      9736217      9742732
Repeatable Handle Time       472839             36371                  0            0            2            2            3            143
Worker Queue Time            472839             36371                  0            0            21           30           116          760146
Worker Handle Time           472839             36371                  11           12           161          388          2228         141965
Total                        472839             36371                  3764049      6821491      9684563      9718559      9736310      9993907
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9484               729                    3764109      6772304      9685499      9716602      9736386      9741975
Repeatable Handle Time       9484               729                    0            0            2            2            3            10
Worker Queue Time            9484               729                    0            0            22           33           132          5608
Worker Handle Time           9484               729                    5001         8650         53821        101409       664970       5605042
Total                        9484               729                    3771584      6787928      9700669      9731023      9753730      11748412
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           482323             37101                  3764013      6820290      9684561      9718499      9736227      9742732
Repeatable Handle Time       482323             37101                  0            0            2            2            3            143
Worker Queue Time            482323             37101                  0            0            21           30           118          760146
Worker Handle Time           482323             37101                  11           12           8661         10529        23917        5605042
Total                        482323             37101                  3764049      6821429      9684623      9718583      9736764      11748412
Running experiment for throughput = 149000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '149000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           331741             25518                  4963119      7875624      10650692     10686895     10710518     10723873
Repeatable Handle Time       331741             25518                  0            0            2            2            3            856
Worker Queue Time            331741             25518                  0            0            21           28           108          149821
Worker Handle Time           331741             25518                  11           12           142          352          1811         112340
Total                        331741             25518                  4963131      7875639      10650723     10686961     10710530     10723885
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6825               524                    4964481      7841182      10667941     10692149     10720366     10723882
Repeatable Handle Time       6825               524                    0            0            2            2            3            9
Worker Queue Time            6825               524                    0            0            22           27           70           15252
Worker Handle Time           6825               524                    5001         11245        121027       169269       881486       3660383
Total                        6825               524                    4974530      7862528      10686221     10710432     10737655     11757420
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           338566             26043                  4963119      7872877      10650761     10687079     10714067     10723882
Repeatable Handle Time       338566             26043                  0            0            2            2            3            856
Worker Queue Time            338566             26043                  0            0            21           28           106          149821
Worker Handle Time           338566             26043                  11           12           11336        14629        36963        3660383
Total                        338566             26043                  4963131      7873265      10650926     10687225     10714229     11757420
Running experiment for throughput = 150000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.02', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '150000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           458920             35301                  3880520      6811564      9821560      9853227      9877318      9883689
Repeatable Handle Time       458920             35301                  0            0            2            2            3            39
Worker Queue Time            458920             35301                  0            0            20           24           57           339093
Worker Handle Time           458920             35301                  11           12           174          424          2701         3099128
Total                        458920             35301                  3880536      6811601      9821579      9853262      9877346      9883736
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9452               727                    3880772      6859762      9821930      9853119      9877040      9883470
Repeatable Handle Time       9452               727                    0            0            2            2            3            5
Worker Queue Time            9452               727                    0            0            21           26           53           64009
Worker Handle Time           9452               727                    5001         8664         56788        97593        373921       2990692
Total                        9452               727                    3888584      6870554      9835246      9866233      9892309      10364081
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           468372             36028                  3880520      6811936      9821570      9853227      9877318      9883689
Repeatable Handle Time       468372             36028                  0            0            2            2            3            39
Worker Queue Time            468372             36028                  0            0            20           24           57           339093
Worker Handle Time           468372             36028                  11           12           8748         10736        24951        3099128
Total                        468372             36028                  3880536      6811987      9821910      9853351      9877450      10364081
