Running ghOSt experiments...
Output Directory: /tmp/ghost_data/2023-11-11 01:31:51
{"throughputs": [10000, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 110000, 120000, 130000, 140000, 141000, 142000, 143000, 144000, 145000, 146000, 147000, 148000, 149000, 150000], "output_prefix": "/tmp/ghost_data/2023-11-11 01:31:51", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.015, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 200, "worker_cpus": [], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "ghost", "ghost_qos": 2}, "antagonist": null, "ghost": {"firstcpu": 11, "globalcpu": 11, "ncpus": 7, "preemption_time_slice": "30us"}}
Running experiment for throughput = 10000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           128824             9909                   0            0            5            9            14           45
Repeatable Handle Time       128824             9909                   0            0            2            2            3            18
Worker Queue Time            128824             9909                   0            15           54           69           353          16001
Worker Handle Time           128824             9909                   11           12           25           29           48           13777
Total                        128824             9909                   11           29           73           87           390          16015
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1966               151                    0            0            3            5            13           13
Repeatable Handle Time       1966               151                    0            0            2            2            3            12
Worker Queue Time            1966               151                    0            15           56           67           149          8148
Worker Handle Time           1966               151                    5001         5002         5726         6441         14906        19913
Total                        1966               151                    5002         5021         5760         6504         14918        19924
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           130790             10060                  0            0            5            9            14           45
Repeatable Handle Time       130790             10060                  0            0            2            2            3            18
Worker Queue Time            130790             10060                  0            15           54           69           352          16001
Worker Handle Time           130790             10060                  11           12           5002         5002         5290         19913
Total                        130790             10060                  11           29           5018         5028         5335         19924
Running experiment for throughput = 20000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           255697             19668                  0            0            6934         10790        14785        19072
Repeatable Handle Time       255697             19668                  0            0            2            2            3            1352
Worker Queue Time            255697             19668                  0            13           14481        20083        38147        121346
Worker Handle Time           255697             19668                  10           12           124          215          1444         72217
Total                        255697             19668                  11           28           16169        25433        41481        133067
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3957               304                    0            0            7341         10519        13240        17254
Repeatable Handle Time       3957               304                    0            0            2            3            3            5
Worker Queue Time            3957               304                    0            13           14610        17603        34958        57125
Worker Handle Time           3957               304                    5001         6675         63193        81232        144000       257876
Total                        3957               304                    5001         6734         66928        86004        153111       257909
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           259654             19973                  0            0            6936         10777        14747        19072
Repeatable Handle Time       259654             19973                  0            0            2            2            3            1352
Worker Queue Time            259654             19973                  0            13           14481        20043        37833        121346
Worker Handle Time           259654             19973                  10           12           6184         9281         28032        257876
Total                        259654             19973                  11           28           18801        27905        52803        257909
Running experiment for throughput = 30000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           383455             29496                  0            0            4            9            14           490
Repeatable Handle Time       383455             29496                  0            0            2            2            3            87
Worker Queue Time            383455             29496                  0            12           394          1885         10594        40026
Worker Handle Time           383455             29496                  10           12           56           86           323          40051
Total                        383455             29496                  11           26           472          2087         10888        40052
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5920               455                    0            0            6            10           16           58
Repeatable Handle Time       5920               455                    0            0            2            2            3            13
Worker Queue Time            5920               455                    0            12           605          3551         13710        39496
Worker Handle Time           5920               455                    5001         5231         13661        17147        23682        65816
Total                        5920               455                    5002         5257         15657        19387        26246        65846
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           389375             29951                  0            0            4            9            14           490
Repeatable Handle Time       389375             29951                  0            0            2            2            3            87
Worker Queue Time            389375             29951                  0            12           396          1919         10726        40026
Worker Handle Time           389375             29951                  10           12           5092         5686         8534         65816
Total                        389375             29951                  11           27           5302         6579         12299        65846
Running experiment for throughput = 40000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           511667             39358                  0            0            12625        15198        21389        30152
Repeatable Handle Time       511667             39358                  0            0            2            3            3            1185
Worker Queue Time            511667             39358                  0            15           12463        18021        120202       640568
Worker Handle Time           511667             39358                  10           12           121          205          957          366870
Total                        511667             39358                  11           30           16601        26040        133713       640580
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7680               590                    0            0            13434        15159        19505        28997
Repeatable Handle Time       7680               590                    0            0            2            3            3            16
Worker Queue Time            7680               590                    0            15           14869        23089        122723       256440
Worker Handle Time           7680               590                    5001         12754        301379       391151       608759       742261
Total                        7680               590                    5001         13196        302979       391167       608791       742264
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           519347             39949                  0            0            12632        15198        21387        30152
Repeatable Handle Time       519347             39949                  0            0            2            3            3            1185
Worker Queue Time            519347             39949                  0            15           12506        18086        120229       640568
Worker Handle Time           519347             39949                  10           12           10007        15505        53609        742261
Total                        519347             39949                  11           31           20904        34375        157795       742264
Running experiment for throughput = 50000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           637492             49037                  0            3            170374       173816       178118       181125
Repeatable Handle Time       637492             49037                  0            0            2            2            3            7346
Worker Queue Time            637492             49037                  0            0            24680        61159        361431       2114244
Worker Handle Time           637492             49037                  10           12           223          481          4104         1918866
Total                        637492             49037                  11           259          172576       177574       435007       2160610
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9869               759                    0            3            170206       173475       177785       179544
Repeatable Handle Time       9869               759                    0            0            2            2            3            36
Worker Queue Time            9869               759                    0            0            21096        56200        393120       1934960
Worker Handle Time           9869               759                    5001         11099        597187       1453142      1964689      2256623
Total                        9869               759                    5001         24397        649251       1535603      1984637      2345722
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           647361             49796                  0            3            170368       173815       178114       181125
Repeatable Handle Time       647361             49796                  0            0            2            2            3            7346
Worker Queue Time            647361             49796                  0            0            24538        61150        361475       2114244
Worker Handle Time           647361             49796                  10           12           9786         14822        72757        2256623
Total                        647361             49796                  11           383          173403       178603       516514       2345722
Running experiment for throughput = 60000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           708336             54487                  107606       498989       976897       979596       983073       988964
Repeatable Handle Time       708336             54487                  0            0            2            2            3            867
Worker Queue Time            708336             54487                  0            0            21           29           234          1136752
Worker Handle Time           708336             54487                  11           12           126          333          1926         56464
Total                        708336             54487                  107618       499022       976935       979615       983100       1569883
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10885              837                    107607       499065       976683       979440       983275       986971
Repeatable Handle Time       10885              837                    0            0            2            2            3            14
Worker Queue Time            10885              837                    0            0            22           36           757          31614
Worker Handle Time           10885              837                    5001         10708        137111       280266       2404019      8187004
Total                        10885              837                    115956       513518       995115       1029751      2618409      8610907
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           719221             55324                  107606       498990       976895       979596       983075       988964
Repeatable Handle Time       719221             55324                  0            0            2            2            3            867
Worker Queue Time            719221             55324                  0            0            21           29           238          1136752
Worker Handle Time           719221             55324                  11           12           10020        12314        31136        8187004
Total                        719221             55324                  107618       499153       977182       979802       983426       8610907
Running experiment for throughput = 70000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '70000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           844084             64929                  71093        412128       723409       737559       747822       763868
Repeatable Handle Time       844084             64929                  0            0            2            2            2            745
Worker Queue Time            844084             64929                  0            0            14           23           81           8479137
Worker Handle Time           844084             64929                  11           12           129          321          2279         1339393
Total                        844084             64929                  71105        412174       723571       737732       747941       8838085
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           12894              991                    71144        411610       724121       738871       747608       749487
Repeatable Handle Time       12894              991                    0            0            2            2            3            14
Worker Queue Time            12894              991                    0            0            1            21           74           8476054
Worker Handle Time           12894              991                    5001         8583         85683        174120       1471266      9349473
Total                        12894              991                    80089        423121       747030       756684       2742615      9656235
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           856978             65921                  71093        412120       723420       737566       747822       763868
Repeatable Handle Time       856978             65921                  0            0            2            2            2            745
Worker Queue Time            856978             65921                  0            0            14           23           81           8479137
Worker Handle Time           856978             65921                  11           12           8131         9712         24293        9349473
Total                        856978             65921                  71105        412289       723928       737816       748314       9656235
Running experiment for throughput = 80000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '80000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           677468             52112                  781209       2475138      4373223      4393332      4401528      4412631
Repeatable Handle Time       677468             52112                  0            0            2            2            3            84
Worker Queue Time            677468             52112                  0            0            20           24           69           897809
Worker Handle Time           677468             52112                  11           12           134          332          2304         1871523
Total                        677468             52112                  781221       2475193      4373262      4393369      4401626      5052376
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10181              783                    781233       2505703      4369158      4389593      4400774      4401667
Repeatable Handle Time       10181              783                    0            0            2            2            3            22
Worker Queue Time            10181              783                    0            0            21           25           198          16086
Worker Handle Time           10181              783                    5001         10745        64079        108556       473431       3245790
Total                        10181              783                    786237       2520545      4385125      4405435      4413034      6394762
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           687649             52896                  781209       2475360      4373211      4393327      4401514      4412631
Repeatable Handle Time       687649             52896                  0            0            2            2            3            84
Worker Queue Time            687649             52896                  0            0            20           24           70           897809
Worker Handle Time           687649             52896                  11           12           10114        12004        25777        3245790
Total                        687649             52896                  781221       2475471      4373287      4393449      4401710      6394762
Running experiment for throughput = 90000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '90000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           802898             61761                  704961       2335573      3898386      3914073      3929763      3939337
Repeatable Handle Time       802898             61761                  0            0            2            2            3            828
Worker Queue Time            802898             61761                  0            0            15           24           326          6044730
Worker Handle Time           802898             61761                  11           12           142          325          2419         789806
Total                        802898             61761                  704974       2335953      3898797      3914491      3930723      6966502
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           12236              941                    705024       2330764      3899697      3914738      3932946      3939241
Repeatable Handle Time       12236              941                    0            0            2            2            3            15
Worker Queue Time            12236              941                    0            0            4            23           80           6042912
Worker Handle Time           12236              941                    5001         8605         62093        121023       1206163      6077181
Total                        12236              941                    713286       2343831      3917689      3932121      4446204      7909713
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           815134             62702                  704961       2335487      3898402      3914078      3929811      3939337
Repeatable Handle Time       815134             62702                  0            0            2            2            3            828
Worker Queue Time            815134             62702                  0            0            15           24           319          6044730
Worker Handle Time           815134             62702                  11           12           8177         9674         21739        6077181
Total                        815134             62702                  704974       2336102      3899034      3914633      3931330      7909713
Running experiment for throughput = 100000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '100000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           619894             47683                  1555933      4157226      6655933      6681820      6696541      6702937
Repeatable Handle Time       619894             47683                  0            0            2            2            3            1784
Worker Queue Time            619894             47683                  0            0            21           26           78           10008454
Worker Handle Time           619894             47683                  10           12           150          360          2358         1089569
Total                        619894             47683                  1555997      4157258      6655967      6681906      6696571      11979780
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9569               736                    1556012      4146406      6653593      6680291      6696538      6702947
Repeatable Handle Time       9569               736                    0            0            2            2            3            41
Worker Queue Time            9569               736                    0            0            20           26           116          8574
Worker Handle Time           9569               736                    5001         10868        61258        118975       751912       10567374
Total                        9569               736                    1566290      4167697      6672311      6699039      6828270      12534322
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           629463             48420                  1555933      4157220      6655930      6681799      6696541      6702947
Repeatable Handle Time       629463             48420                  0            0            2            2            3            1784
Worker Queue Time            629463             48420                  0            0            21           26           78           10008454
Worker Handle Time           629463             48420                  10           12           10278        12258        25947        10567374
Total                        629463             48420                  1555997      4157275      6656013      6682194      6696604      12534322
Running experiment for throughput = 110000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '110000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           748053             57542                  1421951      3779071      6042550      6058900      6079620      6081527
Repeatable Handle Time       748053             57542                  0            0            2            2            3            53
Worker Queue Time            748053             57542                  0            0            19           24           76           5163273
Worker Handle Time           748053             57542                  11           12           165          394          2638         416103
Total                        748053             57542                  1421972      3779104      6042603      6058945      6079982      8421668
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11380              875                    1421989      3769704      6040737      6058611      6076860      6081331
Repeatable Handle Time       11380              875                    0            0            2            2            3            20
Worker Queue Time            11380              875                    0            0            20           25           110          5162098
Worker Handle Time           11380              875                    5001         8661         56358        95117        442276       4341042
Total                        11380              875                    1429653      3783390      6052812      6072557      6102238      8428173
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           759433             58417                  1421951      3779049      6042545      6058897      6079576      6081527
Repeatable Handle Time       759433             58417                  0            0            2            2            3            53
Worker Queue Time            759433             58417                  0            0            19           24           76           5163273
Worker Handle Time           759433             58417                  11           12           8253         9762         23379        4341042
Total                        759433             58417                  1421972      3779112      6042626      6059013      6080312      8428173
Running experiment for throughput = 120000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '120000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           596140             45856                  2192666      5158808      7878743      7911591      7939830      7951731
Repeatable Handle Time       596140             45856                  0            0            2            2            3            150
Worker Queue Time            596140             45856                  0            0            20           24           58           63701
Worker Handle Time           596140             45856                  11           12           161          381          2724         609239
Total                        596140             45856                  2192711      5158829      7878770      7911630      7939867      7954770
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9067               697                    2192980      5094303      7888490      7918374      7943325      7951204
Repeatable Handle Time       9067               697                    0            0            2            2            3            9
Worker Queue Time            9067               697                    0            0            20           24           69           11529
Worker Handle Time           9067               697                    5001         10728        76495        147793       846467       3000026
Total                        9067               697                    2202095      5113272      7908295      7936105      7961711      8361186
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           605207             46554                  2192666      5153071      7878784      7911636      7939837      7951731
Repeatable Handle Time       605207             46554                  0            0            2            2            3            150
Worker Queue Time            605207             46554                  0            0            20           24           58           63701
Worker Handle Time           605207             46554                  11           12           10151        12164        26191        3000026
Total                        605207             46554                  2192711      5153126      7878856      7911702      7940292      8361186
Running experiment for throughput = 130000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '130000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           723633             55664                  1865081      4664608      7298481      7323771      7346519      7357433
Repeatable Handle Time       723633             55664                  0            0            2            2            2            1762
Worker Queue Time            723633             55664                  0            0            21           36           5793         9234112
Worker Handle Time           723633             55664                  10           12           152          354          2124         120723
Total                        723633             55664                  1865098      4664707      7298566      7323810      7346690      11650364
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10982              844                    1865101      4647112      7300705      7326999      7347720      7356873
Repeatable Handle Time       10982              844                    0            0            2            2            3            65
Worker Queue Time            10982              844                    0            0            21           31           3215         26688
Worker Handle Time           10982              844                    5001         8724         136573       363628       2438837      9244436
Total                        10982              844                    1872774      4667888      7323209      7351623      7569455      11654209
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           734615             56508                  1865081      4664576      7298485      7323775      7346542      7357433
Repeatable Handle Time       734615             56508                  0            0            2            2            2            1762
Worker Queue Time            734615             56508                  0            0            21           36           5702         9234112
Worker Handle Time           734615             56508                  10           12           8209         10042        30056        9244436
Total                        734615             56508                  1865098      4664744      7299071      7324219      7346790      11654209
Running experiment for throughput = 140000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '140000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           552596             42507                  3063555      6040979      8939250      8968307      8991123      8993824
Repeatable Handle Time       552596             42507                  0            0            2            2            3            2110
Worker Queue Time            552596             42507                  0            0            16           24           77           6525737
Worker Handle Time           552596             42507                  11           12           129          312          1969         525363
Total                        552596             42507                  3063567      6042368      8939338      8968350      8991150      10827115
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8309               639                    3063789      6021704      8935383      8966898      8988525      8991279
Repeatable Handle Time       8309               639                    0            0            2            2            3            11
Worker Queue Time            8309               639                    0            0            16           25           69           11292
Worker Handle Time           8309               639                    5001         11034        107566       209215       944487       7897783
Total                        8309               639                    3073456      6040937      8956146      8986501      9133640      12183066
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           560905             43146                  3063555      6040616      8939224      8968305      8991122      8993824
Repeatable Handle Time       560905             43146                  0            0            2            2            3            2110
Worker Queue Time            560905             43146                  0            0            16           24           77           6525737
Worker Handle Time           560905             43146                  11           12           10231        12619        28031        7897783
Total                        560905             43146                  3063567      6042353      8939996      8968563      8991180      12183066
Running experiment for throughput = 141000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '141000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           696447             53572                  2288710      5113046      7941422      7962936      7978444      7986649
Repeatable Handle Time       696447             53572                  0            0            2            2            3            134
Worker Queue Time            696447             53572                  0            0            19           25           105          407847
Worker Handle Time           696447             53572                  10           12           148          353          2459         6401752
Total                        696447             53572                  2288731      5113128      7941648      7962971      7978698      10961926
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10563              812                    2288758      5141136      7933024      7957498      7980074      7983435
Repeatable Handle Time       10563              812                    0            0            2            2            3            33
Worker Queue Time            10563              812                    0            0            20           26           89           18433
Worker Handle Time           10563              812                    5001         8814         5820355      6085084      6401461      6441169
Total                        10563              812                    2296353      5220335      10719150     10849190     10966604     11035868
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           707010             54385                  2288710      5113157      7941238      7962931      7978444      7986649
Repeatable Handle Time       707010             54385                  0            0            2            2            3            134
Worker Queue Time            707010             54385                  0            0            19           25           104          407847
Worker Handle Time           707010             54385                  10           12           8315         10113        34206        6441169
Total                        707010             54385                  2288731      5117403      7942328      7963030      7980149      11035868
Running experiment for throughput = 142000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '142000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           546512             42039                  3012195      6054387      9040119      9062751      9087202      9094216
Repeatable Handle Time       546512             42039                  0            0            2            2            3            1047
Worker Queue Time            546512             42039                  0            0            22           34           334          741674
Worker Handle Time           546512             42039                  11           12           145          335          1858         74764
Total                        546512             42039                  3012208      6054427      9040149      9062775      9087214      9094278
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8394               645                    3012493      6039777      9036910      9062759      9087789      9094145
Repeatable Handle Time       8394               645                    0            0            2            2            3            11
Worker Queue Time            8394               645                    0            0            22           31           252          15534
Worker Handle Time           8394               645                    5001         10939        145892       250740       1034175      4382141
Total                        8394               645                    3023337      6061326      9054040      9085378      9113390      10381404
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           554906             42684                  3012195      6054316      9040114      9062752      9087213      9094216
Repeatable Handle Time       554906             42684                  0            0            2            2            3            1047
Worker Queue Time            554906             42684                  0            0            22           34           334          741674
Worker Handle Time           554906             42684                  11           12           10225        12691        32370        4382141
Total                        554906             42684                  3012208      6054515      9040165      9062781      9087745      10381404
Running experiment for throughput = 143000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '143000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           690006             53077                  2374877      5287983      8042458      8070211      8089528      8096891
Repeatable Handle Time       690006             53077                  0            0            2            2            2            62
Worker Queue Time            690006             53077                  0            0            19           23           83           564487
Worker Handle Time           690006             53077                  11           12           161          432          2633         360160
Total                        690006             53077                  2374893      5288047      8042481      8070223      8089553      8102010
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10525              809                    2374967      5252846      8037961      8069724      8090504      8096739
Repeatable Handle Time       10525              809                    0            0            2            2            3            5
Worker Queue Time            10525              809                    0            0            20           23           58           562180
Worker Handle Time           10525              809                    5001         8592         57104        96469        575017       3191090
Total                        10525              809                    2382333      5265314      8053930      8081545      8106799      9594350
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           700531             53886                  2374877      5287212      8042456      8070211      8089538      8096891
Repeatable Handle Time       700531             53886                  0            0            2            2            2            62
Worker Queue Time            700531             53886                  0            0            19           23           83           564487
Worker Handle Time           700531             53886                  11           12           8132         9709         20919        3191090
Total                        700531             53886                  2374893      5287450      8042491      8070298      8089931      9594350
Running experiment for throughput = 144000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '144000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           542938             41764                  3147959      6204369      9112684      9148987      9175596      9179220
Repeatable Handle Time       542938             41764                  0            0            2            2            3            103
Worker Queue Time            542938             41764                  0            0            20           25           75           48196
Worker Handle Time           542938             41764                  11           12           148          349          2361         590227
Total                        542938             41764                  3147980      6204404      9112740      9149011      9175614      9180959
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8397               645                    3147960      6192306      9118885      9150825      9175288      9179003
Repeatable Handle Time       8397               645                    0            0            2            2            3            6
Worker Queue Time            8397               645                    0            0            21           25           59           1712
Worker Handle Time           8397               645                    5001         10592        70608        145379       515082       5328982
Total                        8397               645                    3157087      6206991      9133062      9167791      9191989      10222664
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           551335             42410                  3147959      6204314      9112869      9149013      9175596      9179220
Repeatable Handle Time       551335             42410                  0            0            2            2            3            103
Worker Queue Time            551335             42410                  0            0            20           25           75           48196
Worker Handle Time           551335             42410                  11           12           9997         12049        25752        5328982
Total                        551335             42410                  3147980      6204448      9115067      9149102      9175823      10222664
Running experiment for throughput = 145000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '145000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           692352             53257                  2354614      5363684      8072409      8110458      8135284      8158893
Repeatable Handle Time       692352             53257                  0            0            2            2            3            74
Worker Queue Time            692352             53257                  0            0            1            22           54           2597432
Worker Handle Time           692352             53257                  11           12           131          339          2065         3482088
Total                        692352             53257                  2354626      5363704      8072437      8110482      8135333      9379417
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10600              815                    2354641      5303216      8083317      8113876      8138280      8145743
Repeatable Handle Time       10600              815                    0            0            2            2            3            8
Worker Queue Time            10600              815                    0            0            0            21           47           459
Worker Handle Time           10600              815                    5001         8691         54453        113343       514993       2609464
Total                        10600              815                    2362341      5313126      8098020      8128425      8153273      9386576
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           702952             54073                  2354614      5363522      8072424      8110464      8135384      8158893
Repeatable Handle Time       702952             54073                  0            0            2            2            3            74
Worker Queue Time            702952             54073                  0            0            1            22           54           2597432
Worker Handle Time           702952             54073                  11           12           8223         9773         19855        3482088
Total                        702952             54073                  2354626      5363573      8072468      8110500      8135804      9386576
Running experiment for throughput = 146000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '146000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           532580             40967                  3261301      6238650      9207758      9243759      9273124      9290493
Repeatable Handle Time       532580             40967                  0            0            2            2            3            173
Worker Queue Time            532580             40967                  0            0            19           23           60           8034801
Worker Handle Time           532580             40967                  10           12           147          335          2401         5521819
Total                        532580             40967                  3261323      6238695      9207795      9243819      9273151      12351485
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8165               628                    3261506      6279757      9215162      9248068      9273461      9280743
Repeatable Handle Time       8165               628                    0            0            2            2            3            13
Worker Queue Time            8165               628                    0            0            20           26           69           187
Worker Handle Time           8165               628                    5001         10750        63306        138751       613706       8053313
Total                        8165               628                    3271716      6300595      9235581      9267848      9299132      12363979
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           540745             41595                  3261301      6238729      9207763      9243777      9273125      9290493
Repeatable Handle Time       540745             41595                  0            0            2            2            3            173
Worker Queue Time            540745             41595                  0            0            19           23           60           8034801
Worker Handle Time           540745             41595                  10           12           10174        12151        26064        8053313
Total                        540745             41595                  3261323      6238821      9208022      9244934      9273169      12363979
Running experiment for throughput = 147000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '147000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           685652             52742                  2486232      5399577      8211203      8239312      8256469      8264485
Repeatable Handle Time       685652             52742                  0            0            2            2            3            68
Worker Queue Time            685652             52742                  0            0            20           25           77           3944316
Worker Handle Time           685652             52742                  11           12           165          396          2396         347387
Total                        685652             52742                  2486244      5399602      8211231      8239334      8256491      8567795
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10426              802                    2486409      5380256      8207169      8234927      8255559      8260831
Repeatable Handle Time       10426              802                    0            0            2            2            3            17
Worker Queue Time            10426              802                    0            0            20           25           58           1016
Worker Handle Time           10426              802                    5001         8693         58720        123991       827409       3011614
Total                        10426              802                    2494310      5393959      8221584      8249222      8273470      9587625
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           696078             53544                  2486232      5399552      8211189      8239295      8256455      8264485
Repeatable Handle Time       696078             53544                  0            0            2            2            3            68
Worker Queue Time            696078             53544                  0            0            20           25           77           3944316
Worker Handle Time           696078             53544                  11           12           8224         9672         20748        3011614
Total                        696078             53544                  2486244      5399595      8211265      8239398      8256639      9587625
Running experiment for throughput = 148000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '148000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           545214             41939                  3187881      6246444      9197905      9231924      9250308      9257145
Repeatable Handle Time       545214             41939                  0            0            2            2            3            106
Worker Queue Time            545214             41939                  0            0            21           28           131          930014
Worker Handle Time           545214             41939                  11           12           144          335          2243         337302
Total                        545214             41939                  3187892      6246471      9197931      9231980      9250433      9431868
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8275               636                    3188076      6236505      9197761      9225023      9249796      9256521
Repeatable Handle Time       8275               636                    0            0            2            2            3            45
Worker Queue Time            8275               636                    0            0            22           34           100          59847
Worker Handle Time           8275               636                    5001         10759        90319        219717       1588595      6664750
Total                        8275               636                    3198264      6255150      9218761      9251100      9435986      11634171
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           553489             42576                  3187881      6245922      9197904      9231596      9250304      9257145
Repeatable Handle Time       553489             42576                  0            0            2            2            3            106
Worker Queue Time            553489             42576                  0            0            21           28           131          930014
Worker Handle Time           553489             42576                  11           12           10097        12129        25632        6664750
Total                        553489             42576                  3187892      6246671      9197949      9232280      9251073      11634171
Running experiment for throughput = 149000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '149000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           687281             52867                  2444065      5438130      8252392      8282588      8303555      8311192
Repeatable Handle Time       687281             52867                  0            0            2            2            3            119
Worker Queue Time            687281             52867                  0            0            20           24           75           287448
Worker Handle Time           687281             52867                  11           12           159          381          2626         336132
Total                        687281             52867                  2444077      5438162      8252405      8282619      8303581      8360555
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10397              799                    2444378      5396954      8254376      8283839      8305525      8311023
Repeatable Handle Time       10397              799                    0            0            2            2            3            11
Worker Queue Time            10397              799                    0            0            18           23           55           15682
Worker Handle Time           10397              799                    5001         8720         72144        145836       600347       5897428
Total                        10397              799                    2454802      5411335      8274345      8299758      8331254      10090909
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           697678             53667                  2444065      5438014      8252394      8282589      8303558      8311192
Repeatable Handle Time       697678             53667                  0            0            2            2            3            119
Worker Queue Time            697678             53667                  0            0            20           24           74           287448
Worker Handle Time           697678             53667                  11           12           8245         9843         23385        5897428
Total                        697678             53667                  2444077      5438086      8252415      8282856      8303654      10090909
Running experiment for throughput = 150000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '150000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           545759             41981                  3298558      6321543      9249585      9281533      9297265      9313265
Repeatable Handle Time       545759             41981                  0            0            2            2            3            75
Worker Queue Time            545759             41981                  0            0            20           24           77           6481533
Worker Handle Time           545759             41981                  10           12           138          348          2381         6480599
Total                        545759             41981                  3298569      6321666      9251914      9281955      9297940      11787789
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           8228               632                    3298603      6310408      9242864      9273056      9296211      9299700
Repeatable Handle Time       8228               632                    0            0            2            2            3            75
Worker Queue Time            8228               632                    0            0            20           26           193          6479690
Worker Handle Time           8228               632                    5001         10544        61512        103570       355050       5438998
Total                        8228               632                    3307847      6326476      9259498      9289688      9311271      11795156
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           553987             42614                  3298558      6321516      9249526      9281494      9297254      9313265
Repeatable Handle Time       553987             42614                  0            0            2            2            3            75
Worker Queue Time            553987             42614                  0            0            20           24           77           6481533
Worker Handle Time           553987             42614                  10           12           9928         11843        25844        6480599
Total                        553987             42614                  3298569      6321669      9252103      9281968      9298755      11795156
