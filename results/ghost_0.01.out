Running ghOSt experiments...
Output Directory: /tmp/ghost_data/2023-11-11 01:11:37
{"throughputs": [10000, 20000, 30000, 40000, 50000, 60000, 70000, 80000, 90000, 100000, 110000, 120000, 130000, 140000, 141000, 142000, 143000, 144000, 145000, 146000, 147000, 148000, 149000, 150000], "output_prefix": "/tmp/ghost_data/2023-11-11 01:11:37", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.01, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 200, "worker_cpus": [], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "ghost", "ghost_qos": 2}, "antagonist": null, "ghost": {"firstcpu": 11, "globalcpu": 11, "ncpus": 7, "preemption_time_slice": "30us"}}
Running experiment for throughput = 10000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           128866             9912                   0            0            7            11           15           178
Repeatable Handle Time       128866             9912                   0            0            2            2            3            19
Worker Queue Time            128866             9912                   0            15           56           68           104          15076
Worker Handle Time           128866             9912                   11           12           24           28           44           1899
Total                        128866             9912                   11           29           73           84           127          15089
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1276               98                     0            0            9            10           14           15
Repeatable Handle Time       1276               98                     0            0            2            2            3            14
Worker Queue Time            1276               98                     0            15           62           66           72           12257
Worker Handle Time           1276               98                     5001         5349         6997         7275         9898         21562
Total                        1276               98                     5009         5364         7029         7365         10259        21576
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           130142             10010                  0            0            7            11           15           178
Repeatable Handle Time       130142             10010                  0            0            2            2            3            19
Worker Queue Time            130142             10010                  0            15           56           68           104          15076
Worker Handle Time           130142             10010                  11           12           74           5325         6697         21562
Total                        130142             10010                  11           29           521          5352         6716         21576
Running experiment for throughput = 20000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           257890             19837                  0            0            7154         10937        15627        22209
Repeatable Handle Time       257890             19837                  0            0            2            5            8            9007
Worker Queue Time            257890             19837                  0            12           8111         16197        35247        910036
Worker Handle Time           257890             19837                  10           12           182          337          1631         920243
Total                        257890             19837                  11           27           14447        22840        44530        920267
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           2575               198                    0            0            7830         11330        15090        16328
Repeatable Handle Time       2575               198                    0            0            2            7            8            10
Worker Queue Time            2575               198                    0            12           6431         15933        35962        53508
Worker Handle Time           2575               198                    5001         5016         540230       933063       1042145      1055002
Total                        2575               198                    5001         5036         546359       933073       1042161      1057136
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           260465             20035                  0            0            7156         10952        15627        22209
Repeatable Handle Time       260465             20035                  0            0            2            5            8            9007
Worker Queue Time            260465             20035                  0            12           8097         16197        35258        910036
Worker Handle Time           260465             20035                  10           12           5001         5020         27617        1055002
Total                        260465             20035                  11           27           15868        25611        61987        1057136
Running experiment for throughput = 30000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           385587             29660                  0            0            10           13           16           412
Repeatable Handle Time       385587             29660                  0            0            2            2            2            40
Worker Queue Time            385587             29660                  0            11           64           77           238          4465
Worker Handle Time           385587             29660                  10           11           32           39           71           2634
Total                        385587             29660                  11           24           81           100          310          4480
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           3818               293                    0            0            11           13           14           22
Repeatable Handle Time       3818               293                    0            0            2            2            3            17
Worker Queue Time            3818               293                    0            11           67           86           144          570
Worker Handle Time           3818               293                    5001         5259         6908         7463         8352         10583
Total                        3818               293                    5002         5273         6910         7479         8364         10622
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           389405             29954                  0            0            10           13           16           412
Repeatable Handle Time       389405             29954                  0            0            2            2            2            40
Worker Queue Time            389405             29954                  0            11           64           77           237          4465
Worker Handle Time           389405             29954                  10           11           156          5245         6047         10583
Total                        389405             29954                  11           24           678          5261         6062         10622
Running experiment for throughput = 40000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           514667             39589                  0            0            10           12           15           263
Repeatable Handle Time       514667             39589                  0            0            2            2            2            30
Worker Queue Time            514667             39589                  0            11           63           82           416          17010
Worker Handle Time           514667             39589                  10           12           36           44           90           17607
Total                        514667             39589                  11           25           83           111          499          17608
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5124               394                    0            0            10           12           15           37
Repeatable Handle Time       5124               394                    0            0            2            2            2            16
Worker Queue Time            5124               394                    0            11           65           100          664          14302
Worker Handle Time           5124               394                    5001         5099         7006         7581         9066         24192
Total                        5124               394                    5002         5115         7047         7714         11778        24202
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           519791             39983                  0            0            10           12           15           263
Repeatable Handle Time       519791             39983                  0            0            2            2            2            30
Worker Queue Time            519791             39983                  0            11           63           82           418          17010
Worker Handle Time           519791             39983                  10           12           490          5097         5624         24192
Total                        519791             39983                  11           25           2227         5115         5664         24202
Running experiment for throughput = 50000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           642618             49432                  0            0            4            8            13           385
Repeatable Handle Time       642618             49432                  0            0            2            2            2            27
Worker Queue Time            642618             49432                  0            12           97           194          1057         31971
Worker Handle Time           642618             49432                  10           11           48           72           202          21737
Total                        642618             49432                  11           26           133          250          1221         31984
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           6530               502                    0            0            4            6            12           15
Repeatable Handle Time       6530               502                    0            0            2            2            2            11
Worker Queue Time            6530               502                    0            12           79           189          724          9870
Worker Handle Time           6530               502                    5001         6313         17593        22036        27035        41974
Total                        6530               502                    5002         6329         17848        22047        27049        41997
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           649148             49934                  0            0            4            8            13           385
Repeatable Handle Time       649148             49934                  0            0            2            2            2            27
Worker Queue Time            649148             49934                  0            12           97           194          1056         31971
Worker Handle Time           649148             49934                  10           11           5016         6322         9854         41974
Total                        649148             49934                  11           27           5157         6487         10655        41997
Running experiment for throughput = 60000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           773312             59485                  0            0            4            6            14           1931
Repeatable Handle Time       773312             59485                  0            0            2            2            2            52
Worker Queue Time            773312             59485                  0            13           180          565          7802         40888
Worker Handle Time           773312             59485                  10           12           62           98           339          33116
Total                        773312             59485                  11           27           255          691          8116         40900
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7704               592                    0            0            3            5            13           1254
Repeatable Handle Time       7704               592                    0            0            2            2            2            11
Worker Queue Time            7704               592                    0            13           175          452          6053         14271
Worker Handle Time           7704               592                    5001         5971         20608        26306        40478        52804
Total                        7704               592                    5002         5992         20912        26319        40495        52818
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           781016             60078                  0            0            4            6            14           1931
Repeatable Handle Time       781016             60078                  0            0            2            2            2            52
Worker Queue Time            781016             60078                  0            13           180          563          7795         40888
Worker Handle Time           781016             60078                  10           12           1684         5964         9559         52804
Total                        781016             60078                  11           27           5252         6495         11769        52818
Running experiment for throughput = 70000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '70000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           900133             69240                  0            0            7531         8266         9901         12468
Repeatable Handle Time       900133             69240                  0            0            2            2            3            79
Worker Queue Time            900133             69240                  0            14           814          2052         34335        11056716
Worker Handle Time           900133             69240                  10           12           193          406          3162         11047229
Total                        900133             69240                  11           33           7959         9304         57440        11056729
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9066               697                    0            0            7248         8001         9464         12384
Repeatable Handle Time       9066               697                    0            0            2            2            3            25
Worker Queue Time            9066               697                    0            14           682          1570         6885         10879475
Worker Handle Time           9066               697                    5001         13337        1362937      4256711      10939471     11041286
Total                        9066               697                    5001         13870        1374189      4294808      10939486     11041316
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           909199             69938                  0            0            7529         8264         9895         12468
Repeatable Handle Time       909199             69938                  0            0            2            2            3            79
Worker Queue Time            909199             69938                  0            14           813          2041         34211        11056716
Worker Handle Time           909199             69938                  10           12           9804         13909        105419       11047229
Total                        909199             69938                  11           33           12015        18290        191556       11056729
Running experiment for throughput = 80000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '80000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1030765            79289                  0            0            4110         4897         6398         7966
Repeatable Handle Time       1030765            79289                  0            0            2            2            3            868
Worker Queue Time            1030765            79289                  0            13           962          2949         52811        7750397
Worker Handle Time           1030765            79289                  10           12           219          480          4522         8481035
Total                        1030765            79289                  11           33           4914         7033         84182        8481038
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10336              795                    0            0            4040         4634         5734         7729
Repeatable Handle Time       10336              795                    0            0            2            2            3            4
Worker Queue Time            10336              795                    0            13           843          3154         71592        6797450
Worker Handle Time           10336              795                    5001         10854        843153       1473499      6195421      7874213
Total                        10336              795                    5001         11097        847177       1476539      6200390      7874214
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1041101            80084                  0            0            4109         4894         6395         7966
Repeatable Handle Time       1041101            80084                  0            0            2            2            3            868
Worker Queue Time            1041101            80084                  0            13           960          2951         52940        7750397
Worker Handle Time           1041101            80084                  10           12           8109         11448        85091        8481035
Total                        1041101            80084                  11           33           9987         17172        206532       8481038
Running experiment for throughput = 90000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '90000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           997915             76762                  267918       1067064      1777474      1785402      1790545      1791933
Repeatable Handle Time       997915             76762                  0            0            2            2            3            801
Worker Queue Time            997915             76762                  0            0            18           25           244          4479273
Worker Handle Time           997915             76762                  11           12           135          331          1973         252399
Total                        997915             76762                  267937       1067110      1777535      1785621      1790636      4965173
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10169              782                    267932       1066879      1774770      1783474      1789463      1791905
Repeatable Handle Time       10169              782                    0            0            2            2            3            35
Worker Queue Time            10169              782                    0            0            19           29           351          4476884
Worker Handle Time           10169              782                    5001         10603        108031       225626       4475561      11730547
Total                        10169              782                    275094       1081014      1792791      1804032      4971898      12216077
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1008084            77544                  267918       1067063      1777468      1785370      1790543      1791933
Repeatable Handle Time       1008084            77544                  0            0            2            2            3            801
Worker Queue Time            1008084            77544                  0            0            18           25           245          4479273
Worker Handle Time           1008084            77544                  11           12           8073         10713        21592        11730547
Total                        1008084            77544                  267937       1067141      1777569      1785873      1790692      12216077
Running experiment for throughput = 100000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '100000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1163136            89471                  194746       806567       1249415      1252931      1258768      1259565
Repeatable Handle Time       1163136            89471                  0            0            2            2            2            796
Worker Queue Time            1163136            89471                  0            0            15           23           76           4300410
Worker Handle Time           1163136            89471                  10           12           152          331          2106         872169
Total                        1163136            89471                  194760       806618       1249466      1252970      1258841      4957333
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11786              906                    194764       794287       1248635      1252113      1258370      1259370
Repeatable Handle Time       11786              906                    0            0            2            2            3            4
Worker Queue Time            11786              906                    0            0            19           23           80           29437
Worker Handle Time           11786              906                    5001         8561         110574       254423       2867949      4794181
Total                        11786              906                    202525       810908       1266898      1311005      3536057      5706019
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1174922            90378                  194746       806473       1249410      1252929      1258756      1259565
Repeatable Handle Time       1174922            90378                  0            0            2            2            2            796
Worker Queue Time            1174922            90378                  0            0            15           23           77           4300410
Worker Handle Time           1174922            90378                  10           12           7356         8653         16541        4794181
Total                        1174922            90378                  194760       806637       1249511      1253035      1259002      5706019
Running experiment for throughput = 110000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '110000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           956357             73565                  745931       2450081      4157319      4186495      4204941      4227042
Repeatable Handle Time       956357             73565                  0            0            2            2            2            717
Worker Queue Time            956357             73565                  0            0            20           24           66           408698
Worker Handle Time           956357             73565                  11           12           162          362          2339         163138
Total                        956357             73565                  745943       2450107      4157353      4186514      4204979      4227079
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9745               749                    746030       2450800      4169266      4190638      4205995      4213193
Repeatable Handle Time       9745               749                    0            0            2            2            3            15
Worker Queue Time            9745               749                    0            0            19           23           56           2786
Worker Handle Time           9745               749                    5001         10448        75667        191057       1234167      11232951
Total                        9745               749                    754980       2466349      4189101      4204958      4338864      12275789
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           966102             74315                  745931       2450088      4157341      4186547      4204950      4227042
Repeatable Handle Time       966102             74315                  0            0            2            2            2            717
Worker Queue Time            966102             74315                  0            0            20           24           66           408698
Worker Handle Time           966102             74315                  11           12           8599         10580        20355        11232951
Total                        966102             74315                  745943       2450385      4157404      4186692      4205029      12275789
Running experiment for throughput = 120000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '120000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1124906            86531                  600977       2072713      3509203      3521128      3532499      3535522
Repeatable Handle Time       1124906            86531                  0            0            2            2            3            642
Worker Queue Time            1124906            86531                  0            0            19           24           154          2219819
Worker Handle Time           1124906            86531                  10           12           151          317          1933         791791
Total                        1124906            86531                  600991       2072742      3509234      3521168      3532538      4926099
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11386              875                    601027       2073236      3508424      3520276      3531579      3535319
Repeatable Handle Time       11386              875                    0            0            2            2            3            26
Worker Queue Time            11386              875                    0            0            20           26           80           29363
Worker Handle Time           11386              875                    5001         8576         116388       219030       1746884      5207670
Total                        11386              875                    608654       2084805      3527066      3541756      4375719      7536560
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1136292            87406                  600977       2072716      3509199      3521126      3532488      3535522
Repeatable Handle Time       1136292            87406                  0            0            2            2            3            642
Worker Queue Time            1136292            87406                  0            0            19           24           152          2219819
Worker Handle Time           1136292            87406                  10           12           7209         8655         18008        5207670
Total                        1136292            87406                  600991       2072792      3509289      3521388      3532572      7536560
Running experiment for throughput = 130000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '130000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           925178             71167                  1198980      3562222      5783365      5796166      5815886      5816500
Repeatable Handle Time       925178             71167                  0            0            2            2            2            773
Worker Queue Time            925178             71167                  0            0            18           23           182          520464
Worker Handle Time           925178             71167                  10           12           133          315          1999         160017
Total                        925178             71167                  1198992      3562244      5783388      5796186      5815906      5905295
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9423               724                    1199191      3544667      5778784      5795488      5811044      5816385
Repeatable Handle Time       9423               724                    0            0            2            2            2            13
Worker Queue Time            9423               724                    0            0            19           23           111          43278
Worker Handle Time           9423               724                    5001         10514        166263       290647       1917441      9959869
Total                        9423               724                    1209967      3566298      5793895      5814939      6115753      11899841
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           934601             71892                  1198980      3562114      5783359      5796162      5815882      5816500
Repeatable Handle Time       934601             71892                  0            0            2            2            2            773
Worker Queue Time            934601             71892                  0            0            18           23           182          520464
Worker Handle Time           934601             71892                  10           12           8707         10614        26405        9959869
Total                        934601             71892                  1198992      3562247      5783402      5796205      5815956      11899841
Running experiment for throughput = 140000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '140000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1100237            84633                  1006949      3067413      5021051      5057833      5065072      5068781
Repeatable Handle Time       1100237            84633                  0            0            2            2            2            114
Worker Queue Time            1100237            84633                  0            0            19           23           66           4231614
Worker Handle Time           1100237            84633                  10           12           148          331          2246         837742
Total                        1100237            84633                  1006961      3067444      5021080      5057857      5065104      5297921
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11007              846                    1007106      3061802      5025980      5053327      5064983      5068664
Repeatable Handle Time       11007              846                    0            0            2            2            3            12
Worker Queue Time            11007              846                    0            0            18           21           56           102169
Worker Handle Time           11007              846                    5001         8456         69763        141671       637968       7594972
Total                        11007              846                    1014998      3072346      5041871      5066946      5085811      10140626
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1111244            85480                  1006949      3067403      5021055      5057824      5065072      5068781
Repeatable Handle Time       1111244            85480                  0            0            2            2            2            114
Worker Queue Time            1111244            85480                  0            0            19           23           66           4231614
Worker Handle Time           1111244            85480                  10           12           6726         8540         16946        7594972
Total                        1111244            85480                  1006961      3067450      5021112      5057875      5065120      10140626
Running experiment for throughput = 141000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '141000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           897609             69046                  1475547      4039134      6500526      6532969      6559642      6565028
Repeatable Handle Time       897609             69046                  0            0            2            2            3            779
Worker Queue Time            897609             69046                  0            0            20           25           132          419482
Worker Handle Time           897609             69046                  10           12           155          327          2108         83274
Total                        897609             69046                  1475559      4039159      6500551      6533002      6559677      6575047
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9204               707                    1475587      4025646      6511040      6536543      6559485      6564849
Repeatable Handle Time       9204               707                    0            0            2            2            3            4
Worker Queue Time            9204               707                    0            0            19           24           72           29854
Worker Handle Time           9204               707                    5001         10554        159540       278047       996194       4877737
Total                        9204               707                    1485609      4044378      6530642      6556085      6625823      8480370
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           906813             69754                  1475547      4039128      6500533      6532974      6559642      6565028
Repeatable Handle Time       906813             69754                  0            0            2            2            3            779
Worker Queue Time            906813             69754                  0            0            20           25           133          419482
Worker Handle Time           906813             69754                  10           12           8885         10696        26788        4877737
Total                        906813             69754                  1475559      4039164      6500588      6533026      6559884      8480370
Running experiment for throughput = 142000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '142000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1092754            84057                  1139247      3209832      5171345      5199436      5215531      5219694
Repeatable Handle Time       1092754            84057                  0            0            2            2            3            429
Worker Queue Time            1092754            84057                  0            0            18           23           150          3651575
Worker Handle Time           1092754            84057                  11           12           150          326          2240         390338
Total                        1092754            84057                  1139264      3209876      5171366      5199465      5215561      6282970
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10865              835                    1140350      3201106      5175521      5199513      5216070      5219539
Repeatable Handle Time       10865              835                    0            0            2            2            3            3
Worker Queue Time            10865              835                    0            0            18           23           154          13480
Worker Handle Time           10865              835                    5001         8515         68351        136110       797064       7784932
Total                        10865              835                    1148455      3211619      5190679      5213086      5252818      9262234
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1103619            84893                  1139247      3209811      5171347      5199438      5215534      5219694
Repeatable Handle Time       1103619            84893                  0            0            2            2            3            429
Worker Queue Time            1103619            84893                  0            0            18           23           150          3651575
Worker Handle Time           1103619            84893                  11           12           6345         8575         16250        7784932
Total                        1103619            84893                  1139264      3209885      5171377      5199479      5215593      9262234
Running experiment for throughput = 143000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '143000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           890518             68501                  1625489      4253471      6670994      6691191      6702133      6702595
Repeatable Handle Time       890518             68501                  0            0            2            2            2            829
Worker Queue Time            890518             68501                  0            0            20           25           961          1365218
Worker Handle Time           890518             68501                  11           12           153          331          2115         253302
Total                        890518             68501                  1625501      4253503      6671035      6691219      6702161      6730916
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9047               695                    1625747      4176120      6660079      6681349      6700377      6702490
Repeatable Handle Time       9047               695                    0            0            2            2            3            8
Worker Queue Time            9047               695                    0            0            20           23           52           27733
Worker Handle Time           9047               695                    5001         10466        94980        229547       1227525      6120476
Total                        9047               695                    1635115      4195502      6678558      6697582      6736188      10111043
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           899565             69197                  1625489      4253041      6670914      6691162      6702131      6702595
Repeatable Handle Time       899565             69197                  0            0            2            2            2            829
Worker Queue Time            899565             69197                  0            0            20           25           930          1365218
Worker Handle Time           899565             69197                  11           12           7910         10597        22427        6120476
Total                        899565             69197                  1625501      4253078      6671085      6691242      6702174      10111043
Running experiment for throughput = 144000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '144000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1080010            83077                  1184863      3404560      5382461      5408384      5416404      5424076
Repeatable Handle Time       1080010            83077                  0            0            2            2            3            840
Worker Queue Time            1080010            83077                  0            0            18           24           72           1746241
Worker Handle Time           1080010            83077                  11           12           153          328          2030         342487
Total                        1080010            83077                  1184876      3404582      5382488      5408419      5416463      6538103
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10865              835                    1184872      3362765      5380923      5401731      5417428      5424026
Repeatable Handle Time       10865              835                    0            0            2            2            3            12
Worker Queue Time            10865              835                    0            0            20           25           61           1580
Worker Handle Time           10865              835                    5001         8565         95094        196596       1630747      8879802
Total                        10865              835                    1193152      3376560      5396453      5420865      5482802      11128099
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1090875            83913                  1184863      3404402      5382461      5408353      5416420      5424076
Repeatable Handle Time       1090875            83913                  0            0            2            2            3            840
Worker Queue Time            1090875            83913                  0            0            18           24           72           1746241
Worker Handle Time           1090875            83913                  11           12           7257         8634         16805        8879802
Total                        1090875            83913                  1184876      3404538      5382539      5408544      5416532      11128099
Running experiment for throughput = 145000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '145000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           887036             68233                  1673171      4262371      6767197      6798797      6813275      6814402
Repeatable Handle Time       887036             68233                  0            0            2            2            3            55
Worker Queue Time            887036             68233                  0            0            17           23           57           2267839
Worker Handle Time           887036             68233                  10           12           137          314          2046         410357
Total                        887036             68233                  1673184      4262394      6767589      6798883      6813326      7502883
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9139               702                    1674193      4244114      6764713      6794189      6813070      6814240
Repeatable Handle Time       9139               702                    0            0            2            2            3            11
Worker Queue Time            9139               702                    0            0            19           23           48           3669
Worker Handle Time           9139               702                    5001         10340        68960        106291       1217220      3493088
Total                        9139               702                    1683539      4256569      6786374      6814521      6863865      8723993
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           896175             68936                  1673171      4262360      6767194      6798795      6813275      6814402
Repeatable Handle Time       896175             68936                  0            0            2            2            3            55
Worker Queue Time            896175             68936                  0            0            17           23           57           2267839
Worker Handle Time           896175             68936                  10           12           8584         10510        20474        3493088
Total                        896175             68936                  1673184      4262391      6767708      6799003      6813351      8723993
Running experiment for throughput = 146000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '146000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1068809            82216                  1205217      3367495      5570330      5587828      5601173      5607945
Repeatable Handle Time       1068809            82216                  0            0            2            2            3            58
Worker Queue Time            1068809            82216                  0            0            19           24           59           907157
Worker Handle Time           1068809            82216                  11           12           167          351          2286         393654
Total                        1068809            82216                  1205238      3367562      5570377      5587851      5601202      5957122
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10827              832                    1205260      3381183      5568847      5587832      5602261      5607906
Repeatable Handle Time       10827              832                    0            0            2            2            3            61
Worker Queue Time            10827              832                    0            0            21           25           76           34343
Worker Handle Time           10827              832                    5001         8468         56352        105595       934855       4625802
Total                        10827              832                    1212958      3393233      5580361      5599869      5632528      6971799
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1079636            83048                  1205217      3367560      5570318      5587828      5601173      5607945
Repeatable Handle Time       1079636            83048                  0            0            2            2            3            61
Worker Queue Time            1079636            83048                  0            0            19           24           59           907157
Worker Handle Time           1079636            83048                  11           12           7423         8571         16120        4625802
Total                        1079636            83048                  1205238      3367639      5570706      5587882      5601255      6971799
Running experiment for throughput = 147000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '147000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           901192             69322                  1669063      4233806      6754623      6786425      6812316      6814966
Repeatable Handle Time       901192             69322                  0            0            2            2            3            74
Worker Queue Time            901192             69322                  0            0            0            21           48           1985233
Worker Handle Time           901192             69322                  11           12           132          309          2231         1221334
Total                        901192             69322                  1669075      4233832      6754650      6786504      6812338      7478544
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9009               693                    1669072      4221127      6758231      6788328      6808977      6814401
Repeatable Handle Time       9009               693                    0            0            2            2            3            3
Worker Queue Time            9009               693                    0            0            0            21           58           637
Worker Handle Time           9009               693                    5001         10634        59585        115780       419797       7241368
Total                        9009               693                    1679661      4236647      6774007      6800695      6821800      8970433
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           910201             70015                  1669063      4233720      6754625      6786451      6812315      6814966
Repeatable Handle Time       910201             70015                  0            0            2            2            3            74
Worker Queue Time            910201             70015                  0            0            0            21           48           1985233
Worker Handle Time           910201             70015                  11           12           7971         10747        21740        7241368
Total                        910201             70015                  1669075      4233890      6754778      6787830      6812351      8970433
Running experiment for throughput = 148000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '148000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1076933            82841                  1223685      3399137      5590283      5607504      5625359      5629512
Repeatable Handle Time       1076933            82841                  0            0            2            2            2            863
Worker Queue Time            1076933            82841                  0            0            20           25           157          1532622
Worker Handle Time           1076933            82841                  10           12           166          356          2327         510881
Total                        1076933            82841                  1223701      3399161      5590316      5607540      5625384      5663024
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10798              830                    1223663      3407178      5586448      5607713      5625322      5628853
Repeatable Handle Time       10798              830                    0            0            2            2            3            14
Worker Queue Time            10798              830                    0            0            20           26           180          31802
Worker Handle Time           10798              830                    5001         8465         109107       215812       968520       3634807
Total                        10798              830                    1231350      3424967      5605021      5625298      5682103      7892362
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1087731            83671                  1223663      3399144      5590279      5607506      5625358      5629512
Repeatable Handle Time       1087731            83671                  0            0            2            2            2            863
Worker Queue Time            1087731            83671                  0            0            20           25           157          1532622
Worker Handle Time           1087731            83671                  10           12           7223         8559         18960        3634807
Total                        1087731            83671                  1223701      3399182      5590333      5608474      5625396      7892362
Running experiment for throughput = 149000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '149000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           896627             68971                  1691926      4413059      6874497      6900606      6919357      6924602
Repeatable Handle Time       896627             68971                  0            0            2            2            3            816
Worker Queue Time            896627             68971                  0            0            19           24           364          281621
Worker Handle Time           896627             68971                  11           12           118          274          1734         137783
Total                        896627             68971                  1691947      4413108      6874522      6900639      6919383      6925706
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9074               697                    1691965      4362452      6873421      6900016      6916400      6924198
Repeatable Handle Time       9074               697                    0            0            2            2            3            8
Worker Queue Time            9074               697                    0            0            19           24           657          15491
Worker Handle Time           9074               697                    5001         10470        209528       377847       1324013      5612362
Total                        9074               697                    1701577      4384350      6896141      6922352      7012609      8213393
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           905701             69669                  1691926      4412922      6874495      6900603      6919350      6924602
Repeatable Handle Time       905701             69669                  0            0            2            2            3            816
Worker Queue Time            905701             69669                  0            0            19           24           371          281621
Worker Handle Time           905701             69669                  11           12           6709         10531        27215        5612362
Total                        905701             69669                  1691947      4412974      6874539      6901151      6919642      8213393
Running experiment for throughput = 150000 req/s:
['/dev/shm/agent_shinjuku', '--firstcpu', '11', '--globalcpu', '11', '--ncpus', '7', '--preemption_time_slice', '30us']
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.01', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '200', '--worker_cpus', '', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'ghost', '--ghost_qos', '2', '--throughput', '150000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1064422            81878                  1247355      3512164      5773373      5793494      5817772      5819795
Repeatable Handle Time       1064422            81878                  0            0            2            2            2            1134
Worker Queue Time            1064422            81878                  0            0            19           23           77           5422739
Worker Handle Time           1064422            81878                  10           12           159          348          2212         1759241
Total                        1064422            81878                  1247367      3512258      5773419      5793610      5817798      7775183
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10825              832                    1247373      3522458      5774617      5796300      5817694      5818586
Repeatable Handle Time       10825              832                    0            0            2            2            2            3
Worker Queue Time            10825              832                    0            0            18           23           61           15797
Worker Handle Time           10825              832                    5001         8407         77597        153706       1485145      10287595
Total                        10825              832                    1254994      3536221      5788415      5812273      5878019      12145239
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1075247            82711                  1247355      3512319      5773408      5793540      5817772      5819795
Repeatable Handle Time       1075247            82711                  0            0            2            2            2            1134
Worker Queue Time            1075247            82711                  0            0            19           23           76           5422739
Worker Handle Time           1075247            82711                  10           12           7262         8514         16951        10287595
Total                        1075247            82711                  1247367      3512551      5773713      5793844      5817808      12145239
