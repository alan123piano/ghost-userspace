Running CFS experiments...
Output Directory: /tmp/ghost_data/2023-11-11 00:59:29
{"throughputs": [10000, 20000, 30000, 40000, 50000, 51000, 52000, 53000, 54000, 55000, 56000, 57000, 58000, 59000, 60000, 61000, 62000, 63000, 64000, 65000, 66000, 67000, 68000, 69000, 70000, 71000, 72000, 73000, 74000, 75000, 76000, 77000, 78000, 79000, 80000], "output_prefix": "/tmp/ghost_data/2023-11-11 00:59:29", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.075, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 6, "worker_cpus": [12, 13, 14, 15, 16, 17], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "cfs", "ghost_qos": 2}, "antagonist": null, "ghost": null}
Running experiment for throughput = 10000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.075', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           120263             9252                   0            0            15154        26909        55608        65516
Repeatable Handle Time       120263             9252                   0            0            50782        56226        66112        69309
Worker Queue Time            120263             9252                   0            0            1            8            600          20089
Worker Handle Time           120263             9252                   10           11           15           20           56           4603
Total                        120263             9252                   11           14           58098        61924        67758        82165
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9750               750                    0            0            15635        37381        54270        65050
Repeatable Handle Time       9750               750                    0            0            48335        54532        65256        68717
Worker Queue Time            9750               750                    0            0            1            10           667          13582
Worker Handle Time           9750               750                    5001         5001         17307        19760        24815        33118
Total                        9750               750                    5001         5005         64126        67045        76260        88686
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           130013             10003                  0            0            15210        27334        55524        65516
Repeatable Handle Time       130013             10003                  0            0            50686        56156        66111        69309
Worker Queue Time            130013             10003                  0            0            1            8            604          20089
Worker Handle Time           130013             10003                  10           11           5002         5002         12496        33118
Total                        130013             10003                  11           15           58467        62318        68745        88686
Running experiment for throughput = 20000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.075', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           68919              5299                   0            0            88997        102249       115238       119105
Repeatable Handle Time       68919              5299                   2135467      4662401      9155721      9171292      9234800      9253624
Worker Queue Time            68919              5299                   0            0            31           7464         16000        55488
Worker Handle Time           68919              5299                   10           11           20           59           345          28038
Total                        68919              5299                   2175865      4662702      9158212      9172949      9266194      9282084
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5566               428                    0            0            91206        104766       117007       118704
Repeatable Handle Time       5566               428                    2135613      4677556      9116055      9172425      9234730      9253482
Worker Queue Time            5566               428                    0            0            1            2267         12884        16061
Worker Handle Time           5566               428                    5001         5103         27235        31354        40613        50535
Total                        5566               428                    2180994      4683147      9133607      9190704      9268515      9294646
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           74485              5727                   0            0            89155        102314       115332       119105
