Running CFS experiments...
Output Directory: /tmp/ghost_data/2023-11-11 01:40:11
{"throughputs": [10000, 20000, 30000, 40000, 50000, 51000, 52000, 53000, 54000, 55000, 56000, 57000, 58000, 59000, 60000, 61000, 62000, 63000, 64000, 65000, 66000, 67000, 68000, 69000, 70000, 71000, 72000, 73000, 74000, 75000, 76000, 77000, 78000, 79000, 80000], "output_prefix": "/tmp/ghost_data/2023-11-11 01:40:11", "binaries": {"rocksdb": "/dev/shm/rocksdb", "antagonist": "/dev/shm/antagonist", "ghost": "/dev/shm/agent_shinjuku"}, "rocksdb": {"print_format": "pretty", "print_distribution": false, "print_ns": false, "print_get": true, "print_range": true, "rocksdb_db_path": "/dev/shm/orch_db", "throughput": 20000, "range_query_ratio": 0.015, "load_generator_cpus": 10, "cfs_dispatcher_cpus": 11, "num_workers": 6, "worker_cpus": [12, 13, 14, 15, 16, 17], "cfs_wait_type": "spin", "ghost_wait_type": "prio_table", "get_duration": "10us", "range_duration": "5000us", "get_exponential_mean": "0us", "batch": 1, "experiment_duration": "15s", "discard_duration": "2s", "scheduler": "cfs", "ghost_qos": 2}, "antagonist": null, "ghost": null}
Running experiment for throughput = 10000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '10000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           127855             9836                   0            0            9084         10686        14267        17528
Repeatable Handle Time       127855             9836                   0            0            265          361          8588         17781
Worker Queue Time            127855             9836                   0            0            1            4            439          11049
Worker Handle Time           127855             9836                   10           11           13           17           51           1814
Total                        127855             9836                   11           12           9416         11535        14908        24223
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           1946               149                    0            0            9573         11490        14278        14518
Repeatable Handle Time       1946               149                    0            0            217          282          492          602
Worker Queue Time            1946               149                    0            0            1            1            263          899
Worker Handle Time           1946               149                    5001         5001         5318         5594         6372         16559
Total                        1946               149                    5001         5002         14626        16589        19327        19638
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           129801             9986                   0            0            9086         10709        14271        17528
Repeatable Handle Time       129801             9986                   0            0            264          360          8041         17781
Worker Queue Time            129801             9986                   0            0            1            4            439          11049
Worker Handle Time           129801             9986                   10           11           5001         5001         5002         16559
Total                        129801             9986                   11           12           9518         11741        15001        24223
Running experiment for throughput = 20000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '20000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           255625             19667                  0            0            6739         8697         12887        14881
Repeatable Handle Time       255625             19667                  0            0            802          1729         5143         14931
Worker Queue Time            255625             19667                  0            0            1            6            187          10389
Worker Handle Time           255625             19667                  10           11           13           18           57           1916
Total                        255625             19667                  11           12           7134         8948         13090        15691
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           4067               312                    0            0            7561         8615         12201        13285
Repeatable Handle Time       4067               312                    0            0            1381         2883         5271         8572
Worker Queue Time            4067               312                    0            0            1            4            40           591
Worker Handle Time           4067               312                    5001         5001         5688         5925         8751         17284
Total                        4067               312                    5001         5002         12831        13815        17378        30393
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           259692             19980                  0            0            6750         8693         12884        14881
Repeatable Handle Time       259692             19980                  0            0            808          1743         5153         14931
Worker Queue Time            259692             19980                  0            0            1            6            182          10389
Worker Handle Time           259692             19980                  10           11           5001         5001         5235         17284
Total                        259692             19980                  11           12           7287         9085         13269        30393
Running experiment for throughput = 30000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '30000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           384196             29559                  0            0            5057         7560         10931        14966
Repeatable Handle Time       384196             29559                  0            0            2176         3423         5601         14996
Worker Queue Time            384196             29559                  0            0            0            1            58           8973
Worker Handle Time           384196             29559                  10           11           13           17           36           2113
Total                        384196             29559                  11           12           6331         8197         11373        15018
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           5696               438                    0            0            5032         7498         11075        14499
Repeatable Handle Time       5696               438                    0            0            2342         3252         5499         6190
Worker Queue Time            5696               438                    0            0            0            1            314          2538
Worker Handle Time           5696               438                    5001         5001         5063         5416         7291         27247
Total                        5696               438                    5001         5002         11957        13262        16621        27248
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           389892             29997                  0            0            5057         7560         10938        14966
Repeatable Handle Time       389892             29997                  0            0            2177         3422         5601         14996
Worker Queue Time            389892             29997                  0            0            0            1            59           8973
Worker Handle Time           389892             29997                  10           11           5001         5001         5002         27247
Total                        389892             29997                  11           12           6471         8290         11707        27248
Running experiment for throughput = 40000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '40000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           510232             39256                  0            0            9105         11024        13865        15985
Repeatable Handle Time       510232             39256                  0            0            9808         14783        24201        29050
Worker Queue Time            510232             39256                  0            0            0            4            279          23862
Worker Handle Time           510232             39256                  10           11           15           21           76           15827
Total                        510232             39256                  11           12           13357        17684        24557        29061
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           7820               601                    0            0            9323         11362        14416        15820
Repeatable Handle Time       7820               601                    0            0            10364        17464        23624        26465
Worker Queue Time            7820               601                    0            0            0            1            51           630
Worker Handle Time           7820               601                    5001         5002         6809         10727        23543        43912
Total                        7820               601                    5001         5036         20789        27280        32748        53750
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           518052             39857                  0            0            9109         11026        13877        15985
Repeatable Handle Time       518052             39857                  0            0            9813         14821        24199        29050
Worker Queue Time            518052             39857                  0            0            0            4            266          23862
Worker Handle Time           518052             39857                  10           11           5001         5042         5540         43912
Total                        518052             39857                  11           12           13516        18077        24715        53750
Running experiment for throughput = 50000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '50000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           639718             49218                  0            0            14522        19078        35876        47536
Repeatable Handle Time       639718             49218                  0            925          335600       340783       345938       348472
Worker Queue Time            639718             49218                  0            0            0            0            20           16046
Worker Handle Time           639718             49218                  10           11           12           18           56           20173
Total                        639718             49218                  11           1234         336660       341499       346380       354152
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9665               743                    0            0            14068        18267        31504        44476
Repeatable Handle Time       9665               743                    0            863          336080       341097       346053       347771
Worker Queue Time            9665               743                    0            0            0            0            56           2900
Worker Handle Time           9665               743                    5001         5001         18675        19880        26275        36776
Total                        9665               743                    5001         6137         342641       346621       351144       353070
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           649383             49962                  0            0            14509        19069        35855        47536
Repeatable Handle Time       649383             49962                  0            924          335613       340791       345941       348472
Worker Queue Time            649383             49962                  0            0            0            0            20           16046
Worker Handle Time           649383             49962                  10           11           5001         5001         5002         36776
Total                        649383             49962                  11           1333         336744       341563       346475       354152
Running experiment for throughput = 51000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '51000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           652184             50178                  0            0            6490         8321         11081        14627
Repeatable Handle Time       652184             50178                  0            3            11948        17292        21417        22775
Worker Queue Time            652184             50178                  0            0            0            1            28           18487
Worker Handle Time           652184             50178                  10           11           15           23           64           2453
Total                        652184             50178                  11           17           12973        17893        21673        24057
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9887               760                    0            0            7094         8520         11249        13117
Repeatable Handle Time       9887               760                    0            5            12622        17784        21225        21952
Worker Queue Time            9887               760                    0            0            0            3            31           1303
Worker Handle Time           9887               760                    5001         5002         6018         6365         16025        27582
Total                        9887               760                    5001         5198         20069        24352        26866        31531
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           662071             50939                  0            0            6507         8324         11084        14627
Repeatable Handle Time       662071             50939                  0            3            11959        17300        21416        22775
Worker Queue Time            662071             50939                  0            0            0            1            28           18487
Worker Handle Time           662071             50939                  10           11           5001         5040         5506         27582
Total                        662071             50939                  11           18           13173        18017        21737        31531
Running experiment for throughput = 52000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '52000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           667291             51340                  0            0            7525         9267         14371        21121
Repeatable Handle Time       667291             51340                  0            9            28446        37323        43367        46626
Worker Queue Time            667291             51340                  0            0            0            1            27           29774
Worker Handle Time           667291             51340                  10           11           15           21           54           16031
Total                        667291             51340                  11           22           30106        39592        44361        47684
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10168              782                    0            0            7524         9655         16734        20808
Repeatable Handle Time       10168              782                    0            9            28939        38255        43200        46257
Worker Queue Time            10168              782                    0            0            0            1            45           2050
Worker Handle Time           10168              782                    5001         5001         5342         5755         12486        27904
Total                        10168              782                    5001         5016         37674        46674        49604        55066
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           677459             52122                  0            0            7525         9272         14413        21121
Repeatable Handle Time       677459             52122                  0            9            28453        37368        43369        46626
Worker Queue Time            677459             52122                  0            0            0            1            28           29774
Worker Handle Time           677459             52122                  10           11           5001         5001         5002         27904
Total                        677459             52122                  11           25           30238        39699        44520        55066
Running experiment for throughput = 53000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '53000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           640349             49267                  0            0            31996        36778        47758        56087
Repeatable Handle Time       640349             49267                  0            1776         1092023      1095801      1101055      1106137
Worker Queue Time            640349             49267                  0            0            0            0            25           23463
Worker Handle Time           640349             49267                  10           11           13           20           64           32644
Total                        640349             49267                  11           2046         1097725      1100396      1106466      1116405
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           9738               749                    0            0            31735        37861        48670        53724
Repeatable Handle Time       9738               749                    0            1746         1091983      1094823      1099015      1105891
Worker Queue Time            9738               749                    0            0            0            0            88           2658
Worker Handle Time           9738               749                    5001         5001         20119        21326        36768        58826
Total                        9738               749                    5001         7083         1103475      1106071      1114643      1126031
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           650087             50016                  0            0            31991        36788        47798        56087
Repeatable Handle Time       650087             50016                  0            1776         1092021      1095779      1101047      1106137
Worker Queue Time            650087             50016                  0            0            0            0            25           23463
Worker Handle Time           650087             50016                  10           11           5001         5007         5682         58826
Total                        650087             50016                  11           2163         1097836      1100444      1106665      1126031
Running experiment for throughput = 54000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '54000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           691556             53207                  0            0            8448         9928         16112        25552
Repeatable Handle Time       691556             53207                  0            195          21760        23682        25951        28381
Worker Queue Time            691556             53207                  0            0            0            0            17           14769
Worker Handle Time           691556             53207                  10           11           14           20           64           2551
Total                        691556             53207                  11           254          22489        24365        26807        40506
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10434              802                    0            0            8654         9906         15007        25311
Repeatable Handle Time       10434              802                    0            231          21660        23568        25802        28113
Worker Queue Time            10434              802                    0            0            0            0            21           649
Worker Handle Time           10434              802                    5001         5001         5270         5515         8282         38133
Total                        10434              802                    5001         5315         27539        29366        31750        54521
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           701990             54010                  0            0            8453         9928         16085        25552
Repeatable Handle Time       701990             54010                  0            196          21759        23680        25950        28381
Worker Queue Time            701990             54010                  0            0            0            0            17           14769
Worker Handle Time           701990             54010                  10           11           5001         5001         5002         38133
Total                        701990             54010                  11           315          22547        24454        26997        54521
Running experiment for throughput = 55000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '55000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           703678             54139                  0            0            9133         10828        16405        28707
Repeatable Handle Time       703678             54139                  0            685          14607        16363        18645        20820
Worker Queue Time            703678             54139                  0            0            0            0            8            1100
Worker Handle Time           703678             54139                  10           11           12           18           36           1038
Total                        703678             54139                  11           841          15511        17595        24834        28778
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10855              835                    0            0            9188         10671        17025        27551
Repeatable Handle Time       10855              835                    0            629          14359        16089        18422        20365
Worker Queue Time            10855              835                    0            0            0            0            12           820
Worker Handle Time           10855              835                    5001         5001         5744         5848         6403         26543
Total                        10855              835                    5001         5844         20402        22227        29920        34766
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           714533             54974                  0            0            9135         10829        16479        28707
Repeatable Handle Time       714533             54974                  0            684          14603        16357        18643        20820
Worker Queue Time            714533             54974                  0            0            0            0            8            1100
Worker Handle Time           714533             54974                  10           11           5001         5002         5237         26543
Total                        714533             54974                  11           911          15732        17794        24860        34766
Running experiment for throughput = 56000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '56000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           715790             55072                  0            0            6631         8813         12027        14450
Repeatable Handle Time       715790             55072                  0            388          11268        12433        15934        18761
Worker Queue Time            715790             55072                  0            0            0            0            13           10471
Worker Handle Time           715790             55072                  10           11           13           20           46           3100
Total                        715790             55072                  11           473          12259        13684        16264        18772
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10959              843                    0            0            7162         9385         12666        14167
Repeatable Handle Time       10959              843                    0            365          11192        12449        15978        17873
Worker Queue Time            10959              843                    0            0            0            0            16           747
Worker Handle Time           10959              843                    5001         5001         5071         5405         6023         12952
Total                        10959              843                    5001         5460         17134        18778        21275        22875
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           726749             55915                  0            0            6639         8820         12032        14450
Repeatable Handle Time       726749             55915                  0            388          11266        12434        15935        18761
Worker Queue Time            726749             55915                  0            0            0            0            13           10471
Worker Handle Time           726749             55915                  10           11           5001         5001         5002         12952
Total                        726749             55915                  11           526          12437        14027        16441        22875
Running experiment for throughput = 57000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '57000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           697695             53679                  0            0            27076        38300        63620        74245
Repeatable Handle Time       697695             53679                  0            3229         788866       792622       795776       797325
Worker Queue Time            697695             53679                  0            0            0            0            11           30362
Worker Handle Time           697695             53679                  10           11           13           20           58           27738
Total                        697695             53679                  11           3465         789160       792638       795790       801528
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10783              829                    0            0            25181        35668        62588        72246
Repeatable Handle Time       10783              829                    0            3209         789575       792563       795338       796497
Worker Queue Time            10783              829                    0            0            0            0            5            366
Worker Handle Time           10783              829                    5001         5022         13019        20609        36821        59145
Total                        10783              829                    5001         8563         795229       797777       800829       811162
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           708478             54509                  0            0            27046        38256        63602        74245
Repeatable Handle Time       708478             54509                  0            3229         788871       792622       795769       797325
Worker Queue Time            708478             54509                  0            0            0            0            11           30362
Worker Handle Time           708478             54509                  10           11           5001         5121         5736         59145
Total                        708478             54509                  11           3630         789253       792705       795877       811162
Running experiment for throughput = 58000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '58000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           742672             57139                  0            0            52597        83015        125073       137914
Repeatable Handle Time       742672             57139                  0            8975         514392       519906       542513       548215
Worker Queue Time            742672             57139                  0            0            0            0            14           17140
Worker Handle Time           742672             57139                  10           11           14           21           58           39010
Total                        742672             57139                  11           9772         528727       538613       546678       554294
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11230              864                    0            0            45124        84053        122150       136800
Repeatable Handle Time       11230              864                    0            9411         512716       519538       541215       547870
Worker Queue Time            11230              864                    0            0            0            0            8            40
Worker Handle Time           11230              864                    5001         5001         10531        17827        25990        42235
Total                        11230              864                    5001         15185        532669       543021       552002       562576
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           753902             58003                  0            0            52493        83053        125046       137914
Repeatable Handle Time       753902             58003                  0            8980         514368       519897       542476       548215
Worker Queue Time            753902             58003                  0            0            0            0            14           17140
Worker Handle Time           753902             58003                  10           11           5001         5001         5002         42235
Total                        753902             58003                  11           9873         528754       538675       546725       562576
Running experiment for throughput = 59000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '59000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           755877             58155                  0            0            5431         7840         12256        14314
Repeatable Handle Time       755877             58155                  0            1365         16671        17695        19580        21847
Worker Queue Time            755877             58155                  0            0            0            0            9            23329
Worker Handle Time           755877             58155                  10           11           12           16           33           1490
Total                        755877             58155                  11           1455         16952        17939        19922        29055
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           11500              884                    0            0            5687         8240         11385        13902
Repeatable Handle Time       11500              884                    0            1377         16444        17473        19012        21630
Worker Queue Time            11500              884                    0            0            0            0            10           608
Worker Handle Time           11500              884                    5001         5001         5827         6033         7266         27414
Total                        11500              884                    5001         6545         21921        22777        24689        27415
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           767377             59040                  0            0            5434         7844         12243        14314
Repeatable Handle Time       767377             59040                  0            1365         16670        17693        19578        21847
Worker Queue Time            767377             59040                  0            0            0            0            9            23329
Worker Handle Time           767377             59040                  10           11           5001         5006         5238         27414
Total                        767377             59040                  11           1520         17083        18026        20292        29055
Running experiment for throughput = 60000 req/s:
['/dev/shm/rocksdb', '--print_format', 'pretty', '--noprint_distribution', '', '--noprint_ns', '', '--print_get', '', '--print_range', '', '--rocksdb_db_path', '/dev/shm/orch_db', '--throughput', '20000', '--range_query_ratio', '0.015', '--load_generator_cpus', '10', '--cfs_dispatcher_cpus', '11', '--num_workers', '6', '--worker_cpus', '12,13,14,15,16,17', '--cfs_wait_type', 'spin', '--ghost_wait_type', 'prio_table', '--get_duration', '10us', '--range_duration', '5000us', '--get_exponential_mean', '0us', '--batch', '1', '--experiment_duration', '15s', '--discard_duration', '2s', '--scheduler', 'cfs', '--ghost_qos', '2', '--throughput', '60000']
RocksDB Stats:
Get:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           711538             54744                  0            0            15809        18837        43415        55110
Repeatable Handle Time       711538             54744                  0            294498       948630       951091       955607       959125
Worker Queue Time            711538             54744                  0            0            0            0            16           23146
Worker Handle Time           711538             54744                  10           11           16           23           80           21784
Total                        711538             54744                  11           295290       950268       953313       957706       959755
Range:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
Ingress Queue Time           10876              836                    0            0            15598        17804        39266        54010
Repeatable Handle Time       10876              836                    0            294618       948005       950415       954785       958349
Worker Queue Time            10876              836                    0            0            0            0            9            93
Worker Handle Time           10876              836                    5001         5001         19329        19937        24187        31796
Total                        10876              836                    5001         300781       955502       958769       963896       981492
All:
Stage                        Total Requests     Throughput (req/s)     Min (us)     50% (us)     99% (us)     99.5% (us)   99.9% (us)   Max (us)
----------------------------------------------------------------------------------------------------------------------------------------------------
